
var n;n||(n=typeof Module !== 'undefined' ? Module : {});var aa={},ba;for(ba in n)n.hasOwnProperty(ba)&&(aa[ba]=n[ba]);var ca=[],da="./this.program";function ea(a,b){throw b;}var fa=!1,ha=!1,ia=!1,ja=!1;fa="object"===typeof window;ha="function"===typeof importScripts;ia="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node;ja=!fa&&!ia&&!ha;var qa="",ra,sa,ta,ua,va;
if(ia)qa=ha?require("path").dirname(qa)+"/":__dirname+"/",ra=function(a,b){ua||(ua=require("fs"));va||(va=require("path"));a=va.normalize(a);return ua.readFileSync(a,b?null:"utf8")},ta=function(a){a=ra(a,!0);a.buffer||(a=new Uint8Array(a));assert(a.buffer);return a},1<process.argv.length&&(da=process.argv[1].replace(/\\/g,"/")),ca=process.argv.slice(2),"undefined"!==typeof module&&(module.exports=n),process.on("uncaughtException",function(a){if(!(a instanceof wa))throw a;}),process.on("unhandledRejection",
r),ea=function(a){process.exit(a)},n.inspect=function(){return"[Emscripten Module object]"};else if(ja)"undefined"!=typeof read&&(ra=function(a){return read(a)}),ta=function(a){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(a));a=read(a,"binary");assert("object"===typeof a);return a},"undefined"!=typeof scriptArgs?ca=scriptArgs:"undefined"!=typeof arguments&&(ca=arguments),"function"===typeof quit&&(ea=function(a){quit(a)}),"undefined"!==typeof print&&("undefined"===typeof console&&
(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print);else if(fa||ha)ha?qa=self.location.href:"undefined"!==typeof document&&document.currentScript&&(qa=document.currentScript.src),qa=0!==qa.indexOf("blob:")?qa.substr(0,qa.lastIndexOf("/")+1):"",ra=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.send(null);return b.responseText},ha&&(ta=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),
sa=function(a,b,d){var f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType="arraybuffer";f.onload=function(){200==f.status||0==f.status&&f.response?b(f.response):d()};f.onerror=d;f.send(null)};var xa=n.print||console.log.bind(console),x=n.printErr||console.warn.bind(console);for(ba in aa)aa.hasOwnProperty(ba)&&(n[ba]=aa[ba]);aa=null;n.arguments&&(ca=n.arguments);n.thisProgram&&(da=n.thisProgram);n.quit&&(ea=n.quit);function ya(a){za||(za={});za[a]||(za[a]=1,x(a))}var za,Aa=0,Ba;
n.wasmBinary&&(Ba=n.wasmBinary);var noExitRuntime=n.noExitRuntime||!0;"object"!==typeof WebAssembly&&r("no native wasm support detected");var Ca,Da=!1;function assert(a,b){a||r("Assertion failed: "+b)}function Ea(a){var b=n["_"+a];assert(b,"Cannot call unknown function "+a+", make sure it is exported");return b}
function Fa(a,b,d,f){var h={string:function(m){var q=0;if(null!==m&&void 0!==m&&0!==m){var u=(m.length<<2)+1;q=Ga(u);Ha(m,q,u)}return q},array:function(m){var q=Ga(m.length);y.set(m,q);return q}},c=Ea(a),e=[];a=0;if(f)for(var g=0;g<f.length;g++){var k=h[d[g]];k?(0===a&&(a=Ia()),e[g]=k(f[g])):e[g]=f[g]}d=c.apply(null,e);d=function(m){return"string"===b?F(m):"boolean"===b?!!m:m}(d);0!==a&&Ja(a);return d}var Ka="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;
function La(a,b,d){var f=b+d;for(d=b;a[d]&&!(d>=f);)++d;if(16<d-b&&a.subarray&&Ka)return Ka.decode(a.subarray(b,d));for(f="";b<d;){var h=a[b++];if(h&128){var c=a[b++]&63;if(192==(h&224))f+=String.fromCharCode((h&31)<<6|c);else{var e=a[b++]&63;h=224==(h&240)?(h&15)<<12|c<<6|e:(h&7)<<18|c<<12|e<<6|a[b++]&63;65536>h?f+=String.fromCharCode(h):(h-=65536,f+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else f+=String.fromCharCode(h)}return f}function F(a,b){return a?La(G,a,b):""}
function Ma(a,b,d,f){if(!(0<f))return 0;var h=d;f=d+f-1;for(var c=0;c<a.length;++c){var e=a.charCodeAt(c);if(55296<=e&&57343>=e){var g=a.charCodeAt(++c);e=65536+((e&1023)<<10)|g&1023}if(127>=e){if(d>=f)break;b[d++]=e}else{if(2047>=e){if(d+1>=f)break;b[d++]=192|e>>6}else{if(65535>=e){if(d+2>=f)break;b[d++]=224|e>>12}else{if(d+3>=f)break;b[d++]=240|e>>18;b[d++]=128|e>>12&63}b[d++]=128|e>>6&63}b[d++]=128|e&63}}b[d]=0;return d-h}function Ha(a,b,d){Ma(a,G,b,d)}
function Na(a){for(var b=0,d=0;d<a.length;++d){var f=a.charCodeAt(d);55296<=f&&57343>=f&&(f=65536+((f&1023)<<10)|a.charCodeAt(++d)&1023);127>=f?++b:b=2047>=f?b+2:65535>=f?b+3:b+4}return b}function Oa(a){var b=Na(a)+1,d=H(b);d&&Ma(a,y,d,b);return d}function Pa(a){var b=Na(a)+1,d=Ga(b);Ma(a,y,d,b);return d}var Qa,y,G,Ta,I,J,L,M,Ua;
function Va(){var a=Ca.buffer;Qa=a;n.HEAP8=y=new Int8Array(a);n.HEAP16=Ta=new Int16Array(a);n.HEAP32=J=new Int32Array(a);n.HEAPU8=G=new Uint8Array(a);n.HEAPU16=I=new Uint16Array(a);n.HEAPU32=L=new Uint32Array(a);n.HEAPF32=M=new Float32Array(a);n.HEAPF64=Ua=new Float64Array(a)}var Wa,Xa=[],Ya=[],Za=[],$a=[],ab=[];Ya.push({ie:function(){bb()}});function cb(){var a=n.preRun.shift();Xa.unshift(a)}var db=0,eb=null,fb=null;function gb(){db++;n.monitorRunDependencies&&n.monitorRunDependencies(db)}
function hb(){db--;n.monitorRunDependencies&&n.monitorRunDependencies(db);if(0==db&&(null!==eb&&(clearInterval(eb),eb=null),fb)){var a=fb;fb=null;a()}}n.preloadedImages={};n.preloadedAudios={};function r(a){if(n.onAbort)n.onAbort(a);x(a);Da=!0;throw new WebAssembly.RuntimeError("abort("+a+"). Build with -s ASSERTIONS=1 for more info.");}function ib(a){var b=jb;return String.prototype.startsWith?b.startsWith(a):0===b.indexOf(a)}function kb(){return ib("data:application/octet-stream;base64,")}
var jb="base.wasm";if(!kb()){var lb=jb;jb=n.locateFile?n.locateFile(lb,qa):qa+lb}function mb(){var a=jb;try{if(a==jb&&Ba)return new Uint8Array(Ba);if(ta)return ta(a);throw"both async and sync fetching of the wasm failed";}catch(b){r(b)}}
function nb(){if(!Ba&&(fa||ha)){if("function"===typeof fetch&&!ib("file://"))return fetch(jb,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+jb+"'";return a.arrayBuffer()}).catch(function(){return mb()});if(sa)return new Promise(function(a,b){sa(jb,function(d){a(new Uint8Array(d))},b)})}return Promise.resolve().then(function(){return mb()})}
var N,ob,pb={21765:function(){n.premultipliedAplha()},21797:function(a,b,d,f,h,c,e,g,k,m,q){n.generateTextTexture(a,b,F(d),f,c,c,e,g,k,m,q)},21902:function(){return n.textureContext.width},21947:function(){return n.textureContext.height},21993:function(){return n.textureContext.textureWidth},22045:function(){return n.textureContext.textureHeight},22098:function(){return n.textureContext.baseline},290795:function(a){a=window.localStorage.getItem(F(a));return null==a?0:parseInt(a)},290911:function(a,
b){window.localStorage.setItem(F(a),""+b)},290974:function(a){Object.assign(document.createElement("a"),{target:"_blank",href:F(a)}).click()},291076:function(a,b){alert(F(a));n.sendCommand(b,0)},291135:function(a){n._loadStringValue=window.localStorage.getItem(F(a));return null==n._loadStringValue?1:0},291307:function(a,b){window.localStorage.setItem(F(a),F(b))},291379:function(a){window.localStorage.removeItem(F(a))},291491:function(){document.documentElement.style.cursor="default"},291541:function(){document.documentElement.style.cursor=
"none"},291595:function(){document.documentElement.style.cursor="pointer"},291645:function(){document.documentElement.style.cursor="text"},291692:function(a,b,d,f,h,c,e,g,k,m,q,u){n.showTextField(b,d,f,h,c,e,g,k,m,F(a),q,u)},291799:function(a,b,d,f,h,c,e,g,k){n.syncTextField(a,b,d,f,h,c,e,g,k)},291900:function(a,b){n.registerFont(a,F(b))}};
function qb(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b(n);else{var d=b.ie;"number"===typeof d?void 0===b.bd?Wa.get(d)():Wa.get(d)(b.bd):d(void 0===b.bd?null:b.bd)}}}function rb(){if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var a=new Uint8Array(1);return function(){crypto.getRandomValues(a);return a[0]}}if(ia)try{var b=require("crypto");return function(){return b.randomBytes(1)[0]}}catch(d){}return function(){r("randomDevice")}}
function sb(a,b){for(var d=0,f=a.length-1;0<=f;f--){var h=a[f];"."===h?a.splice(f,1):".."===h?(a.splice(f,1),d++):d&&(a.splice(f,1),d--)}if(b)for(;d;d--)a.unshift("..");return a}function tb(a){var b="/"===a.charAt(0),d="/"===a.substr(-1);(a=sb(a.split("/").filter(function(f){return!!f}),!b).join("/"))||b||(a=".");a&&d&&(a+="/");return(b?"/":"")+a}
function ub(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b}function vb(a){if("/"===a)return"/";a=tb(a);a=a.replace(/\/$/,"");var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)}
function wb(){for(var a="",b=!1,d=arguments.length-1;-1<=d&&!b;d--){b=0<=d?arguments[d]:"/";if("string"!==typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b="/"===b.charAt(0)}a=sb(a.split("/").filter(function(f){return!!f}),!b).join("/");return(b?"/":"")+a||"."}
function xb(a,b){function d(e){for(var g=0;g<e.length&&""===e[g];g++);for(var k=e.length-1;0<=k&&""===e[k];k--);return g>k?[]:e.slice(g,k-g+1)}a=wb(a).substr(1);b=wb(b).substr(1);a=d(a.split("/"));b=d(b.split("/"));for(var f=Math.min(a.length,b.length),h=f,c=0;c<f;c++)if(a[c]!==b[c]){h=c;break}f=[];for(c=h;c<a.length;c++)f.push("..");f=f.concat(b.slice(h));return f.join("/")}var yb=[];function zb(a,b){yb[a]={input:[],output:[],Bc:b};Ab(a,Bb)}
var Bb={open:function(a){var b=yb[a.node.rdev];if(!b)throw new P(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.Bc.flush(a.tty)},flush:function(a){a.tty.Bc.flush(a.tty)},read:function(a,b,d,f){if(!a.tty||!a.tty.Bc.le)throw new P(60);for(var h=0,c=0;c<f;c++){try{var e=a.tty.Bc.le(a.tty)}catch(g){throw new P(29);}if(void 0===e&&0===h)throw new P(6);if(null===e||void 0===e)break;h++;b[d+c]=e}h&&(a.node.timestamp=Date.now());return h},write:function(a,b,d,f){if(!a.tty||!a.tty.Bc.Ld)throw new P(60);
try{for(var h=0;h<f;h++)a.tty.Bc.Ld(a.tty,b[d+h])}catch(c){throw new P(29);}f&&(a.node.timestamp=Date.now());return h}},Db={le:function(a){if(!a.input.length){var b=null;if(ia){var d=Buffer.ic?Buffer.ic(256):new Buffer(256),f=0;try{f=ua.readSync(process.stdin.fd,d,0,256,null)}catch(h){if(-1!=h.toString().indexOf("EOF"))f=0;else throw h;}0<f?b=d.slice(0,f).toString("utf-8"):b=null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(b=window.prompt("Input: "),null!==b&&(b+="\n")):"function"==
typeof readline&&(b=readline(),null!==b&&(b+="\n"));if(!b)return null;a.input=Cb(b,!0)}return a.input.shift()},Ld:function(a,b){null===b||10===b?(xa(La(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(xa(La(a.output,0)),a.output=[])}},Eb={Ld:function(a,b){null===b||10===b?(x(La(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(x(La(a.output,0)),a.output=[])}},Q={lc:null,fc:function(){return Q.createNode(null,
"/",16895,0)},createNode:function(a,b,d,f){if(24576===(d&61440)||4096===(d&61440))throw new P(63);Q.lc||(Q.lc={dir:{node:{jc:Q.Nb.jc,hc:Q.Nb.hc,lookup:Q.Nb.lookup,pd:Q.Nb.pd,rename:Q.Nb.rename,unlink:Q.Nb.unlink,rmdir:Q.Nb.rmdir,readdir:Q.Nb.readdir,symlink:Q.Nb.symlink},stream:{wc:Q.Pb.wc}},file:{node:{jc:Q.Nb.jc,hc:Q.Nb.hc},stream:{wc:Q.Pb.wc,read:Q.Pb.read,write:Q.Pb.write,Xd:Q.Pb.Xd,se:Q.Pb.se,ve:Q.Pb.ve}},link:{node:{jc:Q.Nb.jc,hc:Q.Nb.hc,readlink:Q.Nb.readlink},stream:{}},de:{node:{jc:Q.Nb.jc,
hc:Q.Nb.hc},stream:Fb}});d=Gb(a,b,d,f);Hb(d.mode)?(d.Nb=Q.lc.dir.node,d.Pb=Q.lc.dir.stream,d.Ob={}):32768===(d.mode&61440)?(d.Nb=Q.lc.file.node,d.Pb=Q.lc.file.stream,d.Sb=0,d.Ob=null):40960===(d.mode&61440)?(d.Nb=Q.lc.link.node,d.Pb=Q.lc.link.stream):8192===(d.mode&61440)&&(d.Nb=Q.lc.de.node,d.Pb=Q.lc.de.stream);d.timestamp=Date.now();a&&(a.Ob[b]=d,a.timestamp=d.timestamp);return d},vg:function(a){return a.Ob?a.Ob.subarray?a.Ob.subarray(0,a.Sb):new Uint8Array(a.Ob):new Uint8Array(0)},ee:function(a,
b){var d=a.Ob?a.Ob.length:0;d>=b||(b=Math.max(b,d*(1048576>d?2:1.125)>>>0),0!=d&&(b=Math.max(b,256)),d=a.Ob,a.Ob=new Uint8Array(b),0<a.Sb&&a.Ob.set(d.subarray(0,a.Sb),0))},If:function(a,b){if(a.Sb!=b)if(0==b)a.Ob=null,a.Sb=0;else{var d=a.Ob;a.Ob=new Uint8Array(b);d&&a.Ob.set(d.subarray(0,Math.min(b,a.Sb)));a.Sb=b}},Nb:{jc:function(a){var b={};b.dev=8192===(a.mode&61440)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;Hb(a.mode)?b.size=4096:32768===(a.mode&61440)?b.size=a.Sb:
40960===(a.mode&61440)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.Je=4096;b.blocks=Math.ceil(b.size/b.Je);return b},hc:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&Q.If(a,b.size)},lookup:function(){throw Ib[44];},pd:function(a,b,d,f){return Q.createNode(a,b,d,f)},rename:function(a,b,d){if(Hb(a.mode)){try{var f=Jb(b,d)}catch(c){}if(f)for(var h in f.Ob)throw new P(55);
}delete a.parent.Ob[a.name];a.parent.timestamp=Date.now();a.name=d;b.Ob[d]=a;b.timestamp=a.parent.timestamp;a.parent=b},unlink:function(a,b){delete a.Ob[b];a.timestamp=Date.now()},rmdir:function(a,b){var d=Jb(a,b),f;for(f in d.Ob)throw new P(55);delete a.Ob[b];a.timestamp=Date.now()},readdir:function(a){var b=[".",".."],d;for(d in a.Ob)a.Ob.hasOwnProperty(d)&&b.push(d);return b},symlink:function(a,b,d){a=Q.createNode(a,b,41471,0);a.link=d;return a},readlink:function(a){if(40960!==(a.mode&61440))throw new P(28);
return a.link}},Pb:{read:function(a,b,d,f,h){var c=a.node.Ob;if(h>=a.node.Sb)return 0;a=Math.min(a.node.Sb-h,f);if(8<a&&c.subarray)b.set(c.subarray(h,h+a),d);else for(f=0;f<a;f++)b[d+f]=c[h+f];return a},write:function(a,b,d,f,h,c){b.buffer===y.buffer&&(c=!1);if(!f)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.Ob||a.Ob.subarray)){if(c)return a.Ob=b.subarray(d,d+f),a.Sb=f;if(0===a.Sb&&0===h)return a.Ob=b.slice(d,d+f),a.Sb=f;if(h+f<=a.Sb)return a.Ob.set(b.subarray(d,d+f),h),f}Q.ee(a,h+
f);if(a.Ob.subarray&&b.subarray)a.Ob.set(b.subarray(d,d+f),h);else for(c=0;c<f;c++)a.Ob[h+c]=b[d+c];a.Sb=Math.max(a.Sb,h+f);return f},wc:function(a,b,d){1===d?b+=a.position:2===d&&32768===(a.node.mode&61440)&&(b+=a.node.Sb);if(0>b)throw new P(28);return b},Xd:function(a,b,d){Q.ee(a.node,b+d);a.node.Sb=Math.max(a.node.Sb,b+d)},se:function(a,b,d,f,h,c){if(0!==b)throw new P(28);if(32768!==(a.node.mode&61440))throw new P(43);a=a.node.Ob;if(c&2||a.buffer!==Qa){if(0<f||f+d<a.length)a.subarray?a=a.subarray(f,
f+d):a=Array.prototype.slice.call(a,f,f+d);f=!0;c=16384*Math.ceil(d/16384);for(b=H(c);d<c;)y[b+d++]=0;d=b;if(!d)throw new P(48);y.set(a,d)}else f=!1,d=a.byteOffset;return{Dc:d,dg:f}},ve:function(a,b,d,f,h){if(32768!==(a.node.mode&61440))throw new P(43);if(h&2)return 0;Q.Pb.write(a,b,0,f,d,!1);return 0}}},Kb=null,Lb={},Mb=[],Nb=1,Ob=null,Pb=!0,Qb={},P=null,Ib={};
function Rb(a,b){a=wb("/",a);b=b||{};if(!a)return{path:"",node:null};var d={fe:!0,Md:0},f;for(f in d)void 0===b[f]&&(b[f]=d[f]);if(8<b.Md)throw new P(32);a=sb(a.split("/").filter(function(e){return!!e}),!1);var h=Kb;d="/";for(f=0;f<a.length;f++){var c=f===a.length-1;if(c&&b.parent)break;h=Jb(h,a[f]);d=tb(d+"/"+a[f]);h.tc&&(!c||c&&b.fe)&&(h=h.tc.root);if(!c||b.kd)for(c=0;40960===(h.mode&61440);)if(h=Sb(d),d=wb(ub(d),h),h=Rb(d,{Md:b.Md}).node,40<c++)throw new P(32);}return{path:d,node:h}}
function Tb(a){for(var b;;){if(a===a.parent)return a=a.fc.ue,b?"/"!==a[a.length-1]?a+"/"+b:a+b:a;b=b?a.name+"/"+b:a.name;a=a.parent}}function Ub(a,b){for(var d=0,f=0;f<b.length;f++)d=(d<<5)-d+b.charCodeAt(f)|0;return(a+d>>>0)%Ob.length}function Vb(a){var b=Ub(a.parent.id,a.name);a.Ac=Ob[b];Ob[b]=a}function Wb(a){var b=Ub(a.parent.id,a.name);if(Ob[b]===a)Ob[b]=a.Ac;else for(b=Ob[b];b;){if(b.Ac===a){b.Ac=a.Ac;break}b=b.Ac}}
function Jb(a,b){var d;if(d=(d=Xb(a,"x"))?d:a.Nb.lookup?0:2)throw new P(d,a);for(d=Ob[Ub(a.id,b)];d;d=d.Ac){var f=d.name;if(d.parent.id===a.id&&f===b)return d}return a.Nb.lookup(a,b)}function Gb(a,b,d,f){a=new Yb(a,b,d,f);Vb(a);return a}function Hb(a){return 16384===(a&61440)}var Zb={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function $b(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b}
function Xb(a,b){if(Pb)return 0;if(-1===b.indexOf("r")||a.mode&292){if(-1!==b.indexOf("w")&&!(a.mode&146)||-1!==b.indexOf("x")&&!(a.mode&73))return 2}else return 2;return 0}function ac(a,b){try{return Jb(a,b),20}catch(d){}return Xb(a,"wx")}function bc(a,b,d){try{var f=Jb(a,b)}catch(h){return h.Rb}if(a=Xb(a,"wx"))return a;if(d){if(!Hb(f.mode))return 54;if(f===f.parent||"/"===Tb(f))return 10}else if(Hb(f.mode))return 31;return 0}
function cc(a,b){b=b||4096;for(a=a||0;a<=b;a++)if(!Mb[a])return a;throw new P(33);}function dc(a,b,d){ec||(ec=function(){},ec.prototype={});var f=new ec,h;for(h in a)f[h]=a[h];a=f;b=cc(b,d);a.fd=b;return Mb[b]=a}var Fb={open:function(a){a.Pb=Lb[a.node.rdev].Pb;a.Pb.open&&a.Pb.open(a)},wc:function(){throw new P(70);}};function Ab(a,b){Lb[a]={Pb:b}}
function fc(a,b){var d="/"===b,f=!b;if(d&&Kb)throw new P(10);if(!d&&!f){var h=Rb(b,{fe:!1});b=h.path;h=h.node;if(h.tc)throw new P(10);if(!Hb(h.mode))throw new P(54);}b={type:a,Lg:{},ue:b,xf:[]};a=a.fc(b);a.fc=b;b.root=a;d?Kb=a:h&&(h.tc=b,h.fc&&h.fc.xf.push(b));return a}function hc(a,b,d){var f=Rb(a,{parent:!0}).node;a=vb(a);if(!a||"."===a||".."===a)throw new P(28);var h=ac(f,a);if(h)throw new P(h);if(!f.Nb.pd)throw new P(63);return f.Nb.pd(f,a,b,d)}function ic(a){return hc(a,16895,0)}
function jc(a,b,d){"undefined"===typeof d&&(d=b,b=438);return hc(a,b|8192,d)}function kc(a,b){if(!wb(a))throw new P(44);var d=Rb(b,{parent:!0}).node;if(!d)throw new P(44);b=vb(b);var f=ac(d,b);if(f)throw new P(f);if(!d.Nb.symlink)throw new P(63);d.Nb.symlink(d,b,a)}
function lc(a){var b=Rb(a,{parent:!0}).node,d=vb(a),f=Jb(b,d),h=bc(b,d,!1);if(h)throw new P(h);if(!b.Nb.unlink)throw new P(63);if(f.tc)throw new P(10);try{Qb.willDeletePath&&Qb.willDeletePath(a)}catch(c){x("FS.trackingDelegate['willDeletePath']('"+a+"') threw an exception: "+c.message)}b.Nb.unlink(b,d);Wb(f);try{if(Qb.onDeletePath)Qb.onDeletePath(a)}catch(c){x("FS.trackingDelegate['onDeletePath']('"+a+"') threw an exception: "+c.message)}}
function Sb(a){a=Rb(a).node;if(!a)throw new P(44);if(!a.Nb.readlink)throw new P(28);return wb(Tb(a.parent),a.Nb.readlink(a))}function mc(a,b){a=Rb(a,{kd:!b}).node;if(!a)throw new P(44);if(!a.Nb.jc)throw new P(63);return a.Nb.jc(a)}function nc(a,b){var d;"string"===typeof a?d=Rb(a,{kd:!0}).node:d=a;if(!d.Nb.hc)throw new P(63);d.Nb.hc(d,{mode:b&4095|d.mode&-4096,timestamp:Date.now()})}
function oc(a,b,d,f){if(""===a)throw new P(44);if("string"===typeof b){var h=Zb[b];if("undefined"===typeof h)throw Error("Unknown file open mode: "+b);b=h}d=b&64?("undefined"===typeof d?438:d)&4095|32768:0;if("object"===typeof a)var c=a;else{a=tb(a);try{c=Rb(a,{kd:!(b&131072)}).node}catch(g){}}h=!1;if(b&64)if(c){if(b&128)throw new P(20);}else c=hc(a,d,0),h=!0;if(!c)throw new P(44);8192===(c.mode&61440)&&(b&=-513);if(b&65536&&!Hb(c.mode))throw new P(54);if(!h&&(d=c?40960===(c.mode&61440)?32:Hb(c.mode)&&
("r"!==$b(b)||b&512)?31:Xb(c,$b(b)):44))throw new P(d);if(b&512){d=c;var e;"string"===typeof d?e=Rb(d,{kd:!0}).node:e=d;if(!e.Nb.hc)throw new P(63);if(Hb(e.mode))throw new P(31);if(32768!==(e.mode&61440))throw new P(28);if(d=Xb(e,"w"))throw new P(d);e.Nb.hc(e,{size:0,timestamp:Date.now()})}b&=-131713;f=dc({node:c,path:Tb(c),flags:b,seekable:!0,position:0,Pb:c.Pb,Zf:[],error:!1},f,void 0);f.Pb.open&&f.Pb.open(f);!n.logReadFiles||b&1||(pc||(pc={}),a in pc||(pc[a]=1,x("FS.trackingDelegate error on read file: "+
a)));try{Qb.onOpenFile&&(c=0,1!==(b&2097155)&&(c|=1),0!==(b&2097155)&&(c|=2),Qb.onOpenFile(a,c))}catch(g){x("FS.trackingDelegate['onOpenFile']('"+a+"', flags) threw an exception: "+g.message)}return f}function qc(a){if(null===a.fd)throw new P(8);a.Id&&(a.Id=null);try{a.Pb.close&&a.Pb.close(a)}catch(b){throw b;}finally{Mb[a.fd]=null}a.fd=null}
function rc(a,b,d){if(null===a.fd)throw new P(8);if(!a.seekable||!a.Pb.wc)throw new P(70);if(0!=d&&1!=d&&2!=d)throw new P(28);a.position=a.Pb.wc(a,b,d);a.Zf=[]}function sc(a,b,d,f,h){if(0>f||0>h)throw new P(28);if(null===a.fd)throw new P(8);if(1===(a.flags&2097155))throw new P(8);if(Hb(a.node.mode))throw new P(31);if(!a.Pb.read)throw new P(28);var c="undefined"!==typeof h;if(!c)h=a.position;else if(!a.seekable)throw new P(70);b=a.Pb.read(a,b,d,f,h);c||(a.position+=b);return b}
function tc(a,b,d,f,h,c){if(0>f||0>h)throw new P(28);if(null===a.fd)throw new P(8);if(0===(a.flags&2097155))throw new P(8);if(Hb(a.node.mode))throw new P(31);if(!a.Pb.write)throw new P(28);a.seekable&&a.flags&1024&&rc(a,0,2);var e="undefined"!==typeof h;if(!e)h=a.position;else if(!a.seekable)throw new P(70);b=a.Pb.write(a,b,d,f,h,c);e||(a.position+=b);try{if(a.path&&Qb.onWriteToFile)Qb.onWriteToFile(a.path)}catch(g){x("FS.trackingDelegate['onWriteToFile']('"+a.path+"') threw an exception: "+g.message)}return b}
function uc(a){var b=b||{};b.flags=b.flags||0;b.encoding=b.encoding||"binary";if("utf8"!==b.encoding&&"binary"!==b.encoding)throw Error('Invalid encoding type "'+b.encoding+'"');var d,f=oc(a,b.flags);a=mc(a).size;var h=new Uint8Array(a);sc(f,h,0,a,0);"utf8"===b.encoding?d=La(h,0):"binary"===b.encoding&&(d=h);qc(f);return d}
function vc(){P||(P=function(a,b){this.node=b;this.Jf=function(d){this.Rb=d};this.Jf(a);this.message="FS error"},P.prototype=Error(),P.prototype.constructor=P,[44].forEach(function(a){Ib[a]=new P(a);Ib[a].stack="<generic error, no stack>"}))}var wc;function xc(a,b){var d=0;a&&(d|=365);b&&(d|=146);return d}function yc(a,b){a="string"===typeof a?a:Tb(a);for(b=b.split("/").reverse();b.length;){var d=b.pop();if(d){var f=tb(a+"/"+d);try{ic(f)}catch(h){}a=f}}return f}
function zc(a,b,d,f){a=tb(("string"===typeof a?a:Tb(a))+"/"+b);d=xc(d,f);return hc(a,(void 0!==d?d:438)&4095|32768,0)}function Ac(a,b,d,f,h,c){a=b?tb(("string"===typeof a?a:Tb(a))+"/"+b):a;f=xc(f,h);h=hc(a,(void 0!==f?f:438)&4095|32768,0);if(d){if("string"===typeof d){a=Array(d.length);b=0;for(var e=d.length;b<e;++b)a[b]=d.charCodeAt(b);d=a}nc(h,f|146);a=oc(h,577);tc(a,d,0,d.length,0,c);qc(a);nc(h,f)}return h}
function Bc(a,b,d,f){a=tb(("string"===typeof a?a:Tb(a))+"/"+b);b=xc(!!d,!!f);Bc.re||(Bc.re=64);var h=Bc.re++<<8|0;Ab(h,{open:function(c){c.seekable=!1},close:function(){f&&f.buffer&&f.buffer.length&&f(10)},read:function(c,e,g,k){for(var m=0,q=0;q<k;q++){try{var u=d()}catch(w){throw new P(29);}if(void 0===u&&0===m)throw new P(6);if(null===u||void 0===u)break;m++;e[g+q]=u}m&&(c.node.timestamp=Date.now());return m},write:function(c,e,g,k){for(var m=0;m<k;m++)try{f(e[g+m])}catch(q){throw new P(29);}k&&
(c.node.timestamp=Date.now());return m}});return jc(a,b,h)}function Cc(a){if(!(a.pf||a.rf||a.link||a.Ob)){if("undefined"!==typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(ra)try{a.Ob=Cb(ra(a.url),!0),a.Sb=a.Ob.length}catch(b){throw new P(29);}else throw Error("Cannot load without read() or XMLHttpRequest.");}}
function Dc(a,b,d,f,h){function c(){this.Jd=!1;this.ic=[]}c.prototype.get=function(q){if(!(q>this.length-1||0>q)){var u=q%this.chunkSize;return this.me(q/this.chunkSize|0)[u]}};c.prototype.Vd=function(q){this.me=q};c.prototype.be=function(){var q=new XMLHttpRequest;q.open("HEAD",d,!1);q.send(null);if(!(200<=q.status&&300>q.status||304===q.status))throw Error("Couldn't load "+d+". Status: "+q.status);var u=Number(q.getResponseHeader("Content-length")),w,t=(w=q.getResponseHeader("Accept-Ranges"))&&
"bytes"===w;q=(w=q.getResponseHeader("Content-Encoding"))&&"gzip"===w;var l=1048576;t||(l=u);var p=this;p.Vd(function(v){var z=v*l,A=(v+1)*l-1;A=Math.min(A,u-1);if("undefined"===typeof p.ic[v]){var C=p.ic;if(z>A)throw Error("invalid range ("+z+", "+A+") or no bytes requested!");if(A>u-1)throw Error("only "+u+" bytes available! programmer error!");var B=new XMLHttpRequest;B.open("GET",d,!1);u!==l&&B.setRequestHeader("Range","bytes="+z+"-"+A);"undefined"!=typeof Uint8Array&&(B.responseType="arraybuffer");
B.overrideMimeType&&B.overrideMimeType("text/plain; charset=x-user-defined");B.send(null);if(!(200<=B.status&&300>B.status||304===B.status))throw Error("Couldn't load "+d+". Status: "+B.status);z=void 0!==B.response?new Uint8Array(B.response||[]):Cb(B.responseText||"",!0);C[v]=z}if("undefined"===typeof p.ic[v])throw Error("doXHR failed!");return p.ic[v]});if(q||!u)l=u=1,l=u=this.me(0).length,xa("LazyFiles on gzip forces download of the whole file when length is accessed");this.Ie=u;this.He=l;this.Jd=
!0};if("undefined"!==typeof XMLHttpRequest){if(!ha)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var e=new c;Object.defineProperties(e,{length:{get:function(){this.Jd||this.be();return this.Ie}},chunkSize:{get:function(){this.Jd||this.be();return this.He}}});var g=void 0}else g=d,e=void 0;var k=zc(a,b,f,h);e?k.Ob=e:g&&(k.Ob=null,k.url=g);Object.defineProperties(k,{Sb:{get:function(){return this.Ob.length}}});var m={};Object.keys(k.Pb).forEach(function(q){var u=
k.Pb[q];m[q]=function(){Cc(k);return u.apply(null,arguments)}});m.read=function(q,u,w,t,l){Cc(k);q=q.node.Ob;if(l>=q.length)return 0;t=Math.min(q.length-l,t);if(q.slice)for(var p=0;p<t;p++)u[w+p]=q[l+p];else for(p=0;p<t;p++)u[w+p]=q.get(l+p);return t};k.Pb=m;return k}
function Ec(a,b,d,f,h,c,e,g,k,m){function q(t){function l(v){m&&m();g||Ac(a,b,v,f,h,k);c&&c();hb(w)}var p=!1;n.preloadPlugins.forEach(function(v){!p&&v.canHandle(u)&&(v.handle(t,u,l,function(){e&&e();hb(w)}),p=!0)});p||l(t)}Fc();var u=b?wb(tb(a+"/"+b)):a,w="cp "+u;gb(w);"string"==typeof d?Gc(d,function(t){q(t)},e):q(d)}var Hc={},ec,pc;
function Ic(a,b){Jc=a;Kc=b;if(Lc)if(0==a)Mc=function(){var f=Math.max(0,Nc+b-Oc())|0;setTimeout(Pc,f)};else if(1==a)Mc=function(){Qc(Pc)};else if(2==a){if("undefined"===typeof setImmediate){var d=[];addEventListener("message",function(f){if("setimmediate"===f.data||"setimmediate"===f.data.target)f.stopPropagation(),d.shift()()},!0);setImmediate=function(f){d.push(f);ha?(void 0===n.setImmediates&&(n.setImmediates=[]),n.setImmediates.push(f),postMessage({target:"setimmediate"})):postMessage("setimmediate",
"*")}}Mc=function(){setImmediate(Pc)}}}var Oc;ia?Oc=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:"undefined"!==typeof dateNow?Oc=dateNow:Oc=function(){return performance.now()};
function Rc(a,b,d,f,h){noExitRuntime=!0;assert(!Lc,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");Lc=a;Sc=f;var c=Tc;Pc=function(){if(!Da)if(0<Uc.length){var e=Date.now(),g=Uc.shift();g.ie(g.bd);if(Vc){var k=Vc,m=0==k%1?k-1:Math.floor(k);Vc=g.mg?m:(8*k+(m+.5))/9}console.log('main loop blocker "'+g.name+'" took '+(Date.now()-e)+" ms");n.setStatus&&(e=n.statusMessage||
"Please wait...",g=Vc,k=Wc.tg,g?g<k?n.setStatus(e+" ("+(k-g)+"/"+k+")"):n.setStatus(e):n.setStatus(""));c<Tc||setTimeout(Pc,0)}else if(!(c<Tc))if(Xc=Xc+1|0,1==Jc&&1<Kc&&0!=Xc%Kc)Mc();else{0==Jc&&(Nc=Oc());if(R)for(e=R.Ic,R.Ic=R.Yc,R.Yc=e,e=R.vc,R.vc=R.ud,R.ud=e,e=0;21>=e;++e)R.vc[e]=0;a:if(!(Da||n.preMainLoop&&!1===n.preMainLoop())){try{a()}catch(q){if(q instanceof wa||"unwind"==q)break a;q&&"object"===typeof q&&q.stack&&x("exception thrown: "+[q,q.stack]);throw q;}n.postMainLoop&&n.postMainLoop()}c<
Tc||("object"===typeof Yc&&Yc.audio&&Yc.audio.Gf&&Yc.audio.Gf(),Mc())}};h||(b&&0<b?Ic(0,1E3/b):Ic(1,1),Mc());if(d)throw"unwind";}var Mc=null,Tc=0,Lc=null,Sc=0,Jc=0,Kc=0,Xc=0,Uc=[],Wc={},Nc,Pc,Vc,Zc=!1,$c=!1,ad=[];
function Fc(){function a(){$c=document.pointerLockElement===n.canvas||document.mozPointerLockElement===n.canvas||document.webkitPointerLockElement===n.canvas||document.msPointerLockElement===n.canvas}n.preloadPlugins||(n.preloadPlugins=[]);if(!bd){bd=!0;try{cd=!0}catch(d){cd=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}dd="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:cd?null:console.log("warning: no BlobBuilder");
ed="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0;n.we||"undefined"!==typeof ed||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),n.we=!0);n.preloadPlugins.push({canHandle:function(d){return!n.we&&/\.(jpg|jpeg|png|bmp)$/i.test(d)},handle:function(d,f,h,c){var e=null;if(cd)try{e=new Blob([d],{type:fd(f)}),e.size!==d.length&&(e=new Blob([(new Uint8Array(d)).buffer],{type:fd(f)}))}catch(m){ya("Blob constructor present but fails: "+
m+"; falling back to blob builder")}e||(e=new dd,e.append((new Uint8Array(d)).buffer),e=e.getBlob());var g=ed.createObjectURL(e),k=new Image;k.onload=function(){assert(k.complete,"Image "+f+" could not be decoded");var m=document.createElement("canvas");m.width=k.width;m.height=k.height;m.getContext("2d").drawImage(k,0,0);n.preloadedImages[f]=m;ed.revokeObjectURL(g);h&&h(d)};k.onerror=function(){console.log("Image "+g+" could not be decoded");c&&c()};k.src=g}});n.preloadPlugins.push({canHandle:function(d){return!n.Af&&
d.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(d,f,h,c){function e(u){k||(k=!0,n.preloadedAudios[f]=u,h&&h(d))}function g(){k||(k=!0,n.preloadedAudios[f]=new Audio,c&&c())}var k=!1;if(cd){try{var m=new Blob([d],{type:fd(f)})}catch(u){return g()}m=ed.createObjectURL(m);var q=new Audio;q.addEventListener("canplaythrough",function(){e(q)},!1);q.onerror=function(){if(!k){console.log("warning: browser could not fully decode audio "+f+", trying slower base64 approach");for(var u="",w=0,t=0,
l=0;l<d.length;l++)for(w=w<<8|d[l],t+=8;6<=t;){var p=w>>t-6&63;t-=6;u+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[p]}2==t?(u+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(w&3)<<4],u+="=="):4==t&&(u+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(w&15)<<2],u+="=");q.src="data:audio/x-"+f.substr(-3)+";base64,"+u;e(q)}};q.src=m;gd(function(){e(q)})}else return g()}});var b=n.canvas;b&&(b.requestPointerLock=b.requestPointerLock||b.mozRequestPointerLock||
b.webkitRequestPointerLock||b.msRequestPointerLock||function(){},b.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},b.exitPointerLock=b.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",a,!1),document.addEventListener("mozpointerlockchange",a,!1),document.addEventListener("webkitpointerlockchange",a,!1),document.addEventListener("mspointerlockchange",a,!1),n.elementPointerLock&&
b.addEventListener("click",function(d){!$c&&n.canvas.requestPointerLock&&(n.canvas.requestPointerLock(),d.preventDefault())},!1))}}
function hd(a,b,d,f){if(b&&n.$b&&a==n.canvas)return n.$b;var h;if(b){var c={antialias:!1,alpha:!1,uf:1};if(f)for(var e in f)c[e]=f[e];if("undefined"!==typeof ld&&(h=md(a,c)))var g=nd[h].nc}else g=a.getContext("2d");if(!g)return null;d&&(b||assert("undefined"===typeof T,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),n.$b=g,b&&(R=nd[h],n.$b=T=R&&R.nc),n.ag=b,ad.forEach(function(k){k()}),Fc());return g}var od=!1,pd=void 0,qd=void 0;
function rd(a,b){function d(){Zc=!1;var c=f.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===c?(f.exitFullscreen=sd,pd&&f.requestPointerLock(),Zc=!0,qd?("undefined"!=typeof Yc&&(J[td>>2]=L[td>>2]|8388608),ud(n.canvas),vd()):ud(f)):(c.parentNode.insertBefore(f,c),c.parentNode.removeChild(c),qd?("undefined"!=typeof Yc&&(J[td>>2]=L[td>>2]&-8388609),ud(n.canvas),vd()):ud(f));
if(n.onFullScreen)n.onFullScreen(Zc);if(n.onFullscreen)n.onFullscreen(Zc)}pd=a;qd=b;"undefined"===typeof pd&&(pd=!0);"undefined"===typeof qd&&(qd=!1);var f=n.canvas;od||(od=!0,document.addEventListener("fullscreenchange",d,!1),document.addEventListener("mozfullscreenchange",d,!1),document.addEventListener("webkitfullscreenchange",d,!1),document.addEventListener("MSFullscreenChange",d,!1));var h=document.createElement("div");f.parentNode.insertBefore(h,f);h.appendChild(f);h.requestFullscreen=h.requestFullscreen||
h.mozRequestFullScreen||h.msRequestFullscreen||(h.webkitRequestFullscreen?function(){h.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(h.webkitRequestFullScreen?function(){h.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null);h.requestFullscreen()}function sd(){if(!Zc)return!1;(document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]);return!0}var wd=0;
function Qc(a){if("function"===typeof requestAnimationFrame)requestAnimationFrame(a);else{var b=Date.now();if(0===wd)wd=b+1E3/60;else for(;b+2>=wd;)wd+=1E3/60;setTimeout(a,Math.max(wd-b,0))}}function gd(a){noExitRuntime=!0;setTimeout(function(){Da||a()},1E4)}function fd(a){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[a.substr(a.lastIndexOf(".")+1)]}
function xd(a){switch(a.type){case "DOMMouseScroll":var b=a.detail/3;break;case "mousewheel":b=a.wheelDelta/120;break;case "wheel":b=a.deltaY;switch(a.deltaMode){case 0:b/=100;break;case 1:b/=3;break;case 2:b*=80;break;default:throw"unrecognized mouse wheel delta mode: "+a.deltaMode;}break;default:throw"unrecognized mouse wheel event: "+a.type;}return b}var yd=0,zd=0,Ad=0,Bd=0,Cd={},Dd={};
function Ed(a){if($c)"mousemove"!=a.type&&"mozMovementX"in a?Ad=Bd=0:(Ad=a.movementX||a.mozMovementX||a.webkitMovementX||0,Bd=a.movementY||a.mozMovementY||a.webkitMovementY||0),"undefined"!=typeof Yc?(yd=Yc.Hg+Ad,zd=Yc.Ig+Bd):(yd+=Ad,zd+=Bd);else{var b=n.canvas.getBoundingClientRect(),d=n.canvas.width,f=n.canvas.height,h="undefined"!==typeof window.scrollX?window.scrollX:window.pageXOffset,c="undefined"!==typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===a.type||"touchend"===
a.type||"touchmove"===a.type){var e=a.Kc;if(void 0!==e)if(h=e.pageX-(h+b.left),c=e.pageY-(c+b.top),h*=d/b.width,c*=f/b.height,b={x:h,y:c},"touchstart"===a.type)Dd[e.identifier]=b,Cd[e.identifier]=b;else if("touchend"===a.type||"touchmove"===a.type)(a=Cd[e.identifier])||(a=b),Dd[e.identifier]=a,Cd[e.identifier]=b}else e=a.pageX-(h+b.left),a=a.pageY-(c+b.top),e*=d/b.width,a*=f/b.height,Ad=e-yd,Bd=a-zd,yd=e,zd=a}}
function Gc(a,b,d){var f="al "+a;sa(a,function(h){assert(h,'Loading data file "'+a+'" failed (no arrayBuffer).');b(new Uint8Array(h));f&&hb(f)},function(){if(d)d();else throw'Loading data file "'+a+'" failed.';});f&&gb(f)}var Fd=[];function vd(){var a=n.canvas;Fd.forEach(function(b){b(a.width,a.height)})}function Gd(a,b,d){ud(n.canvas,a,b);d||vd()}
function ud(a,b,d){b&&d?(a.bg=b,a.gf=d):(b=a.bg,d=a.gf);var f=b,h=d;n.forcedAspectRatio&&0<n.forcedAspectRatio&&(f/h<n.forcedAspectRatio?f=Math.round(h*n.forcedAspectRatio):h=Math.round(f/n.forcedAspectRatio));if((document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===a.parentNode&&"undefined"!=typeof screen){var c=Math.min(screen.width/f,screen.height/h);f=Math.round(f*c);h=Math.round(h*
c)}qd?(a.width!=f&&(a.width=f),a.height!=h&&(a.height=h),"undefined"!=typeof a.style&&(a.style.removeProperty("width"),a.style.removeProperty("height"))):(a.width!=b&&(a.width=b),a.height!=d&&(a.height=d),"undefined"!=typeof a.style&&(f!=b||h!=d?(a.style.setProperty("width",f+"px","important"),a.style.setProperty("height",h+"px","important")):(a.style.removeProperty("width"),a.style.removeProperty("height"))))}
var Hd={},bd,cd,dd,ed,Id={},Jd=[],U=[],Kd=[null],Ld=[null],Md={audio:null,volume:1},Nd=!1,Od={0:3,1:3,2:2,3:0,4:0,5:1,6:16,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:1,16:0,17:0,18:0},Pd=null,Qd={},Rd=!1,Sd=null,Td=0,Ud=0,Vd=0,Wd=[0,0,0],V={},Xd={16:1249,17:1248,18:1250,20:1081,33:1099,34:1102,35:1101,36:1098,37:1104,38:1106,39:1103,40:1105,44:316,45:1097,46:127,91:1251,93:1125,96:1122,97:1113,98:1114,99:1115,100:1116,101:1117,102:1118,103:1119,104:1120,105:1121,106:1109,107:1111,109:1110,110:1123,111:1108,
112:1082,113:1083,114:1084,115:1085,116:1086,117:1087,118:1088,119:1089,120:1090,121:1091,122:1092,123:1093,124:1128,125:1129,126:1130,127:1131,128:1132,129:1133,130:1134,131:1135,132:1136,133:1137,134:1138,135:1139,144:1107,160:94,161:33,162:34,163:35,164:36,165:37,166:38,167:95,168:40,169:41,170:42,171:43,172:124,173:45,174:123,175:125,176:126,181:127,182:129,183:128,188:44,190:46,191:47,192:96,219:91,220:92,221:93,222:39,224:1251},Yd={8:42,9:43,13:40,27:41,32:44,35:204,39:53,44:54,46:55,47:56,
48:39,49:30,50:31,51:32,52:33,53:34,54:35,55:36,56:37,57:38,58:203,59:51,61:46,91:47,92:49,93:48,96:52,97:4,98:5,99:6,100:7,101:8,102:9,103:10,104:11,105:12,106:13,107:14,108:15,109:16,110:17,111:18,112:19,113:20,114:21,115:22,116:23,117:24,118:25,119:26,120:27,121:28,122:29,127:76,305:224,308:226,316:70};
function Zd(a,b,d,f,h){d=d||0;var c=d&1,e=d&2097152,g=d&67108864,k=H(60),m=H(44),q=e?1:4;e=0;c||g||(e=H(a*b*4));J[k>>2]=d;J[k+4>>2]=m;J[k+8>>2]=a;J[k+12>>2]=b;J[k+16>>2]=a*q;J[k+20>>2]=e;J[k+36>>2]=0;J[k+40>>2]=0;J[k+44>>2]=n.canvas.width;J[k+48>>2]=n.canvas.height;J[k+56>>2]=1;J[m>>2]=-2042224636;J[m+4>>2]=0;y[m+8>>0]=8*q;y[m+9>>0]=q;J[m+12>>2]=255;J[m+16>>2]=65280;J[m+20>>2]=16711680;J[m+24>>2]=4278190080;Nd=Nd||g;if(f)var u=n.canvas;else 0<Jd.length?u=Jd.pop():u=document.createElement("canvas"),
u.width=a,u.height=b;c=hd(u,g,f,{antialias:0!=Od[13]&&1<Od[14],depth:0<Od[6],stencil:0<Od[7],alpha:0<Od[3]});Id[k]={width:a,height:b,canvas:u,$b:c,Xg:k,buffer:e,Df:m,alpha:255,flags:d,locked:0,$f:f,source:h,qf:function(w){return d&w}};return k}function $d(a){var b=a+56,d=J[b>>2];1<d?J[b>>2]=d-1:(b=Id[a],!b.$f&&b.canvas&&Jd.push(b.canvas),b.buffer&&ae(b.buffer),ae(b.Df),ae(a),Id[a]=null,a===td&&(td=null))}var be={},ce=null;
function de(a){function b(){for(var e in Qd)U.push({type:"keyup",keyCode:Qd[e]})}switch(a.type){case "touchstart":case "touchmove":a.preventDefault();var d=[];if("touchstart"===a.type)for(var f=0;f<a.touches.length;f++){var h=a.touches[f];1!=be[h.identifier]&&(be[h.identifier]=!0,d.push(h))}else d=a.touches;if(f=d[0]){"touchstart"==a.type&&(Wd[0]=1);switch(a.type){case "touchstart":var c="mousedown";break;case "touchmove":c="mousemove"}c={type:c,button:0,pageX:f.clientX,pageY:f.clientY};U.push(c)}for(f=
0;f<d.length;f++)h=d[f],U.push({type:a.type,Kc:h});break;case "touchend":a.preventDefault();for(f=0;f<a.changedTouches.length;f++)h=a.changedTouches[f],!0===be[h.identifier]&&delete be[h.identifier];c={type:"mouseup",button:0,pageX:a.changedTouches[0].clientX,pageY:a.changedTouches[0].clientY};Wd[0]=0;U.push(c);for(f=0;f<a.changedTouches.length;f++)h=a.changedTouches[f],U.push({type:"touchend",Kc:h});break;case "DOMMouseScroll":case "mousewheel":case "wheel":d=-xd(a);d=0==d?0:0<d?Math.max(d,1):Math.min(d,
-1);c=0<d?3:4;U.push({type:"mousedown",button:c,pageX:a.pageX,pageY:a.pageY});U.push({type:"mouseup",button:c,pageX:a.pageX,pageY:a.pageY});U.push({type:"wheel",deltaX:0,deltaY:d});a.preventDefault();break;case "mousemove":if(1===Wd[0]&&U.push({type:"touchmove",Kc:{identifier:0,Qc:-1,pageX:a.pageX,pageY:a.pageY}}),$c&&("mozMovementX"in a&&(a.movementX=a.mozMovementX,a.movementY=a.mozMovementY),0==a.movementX&&0==a.movementY)){a.preventDefault();return}case "keydown":case "keyup":case "keypress":case "mousedown":case "mouseup":"keydown"===
a.type&&Yc.dh&&8!==a.keyCode&&9!==a.keyCode||a.preventDefault();if("mousedown"==a.type)Wd[a.button]=1,U.push({type:"touchstart",Kc:{identifier:0,Qc:-1,pageX:a.pageX,pageY:a.pageY}});else if("mouseup"==a.type){if(!Wd[a.button])return;U.push({type:"touchend",Kc:{identifier:0,Qc:-1,pageX:a.pageX,pageY:a.pageY}});Wd[a.button]=0}"keydown"===a.type||"mousedown"===a.type||"keyup"!==a.type&&"mouseup"!==a.type||!Rd||(n.requestFullscreen(!0,!0),Rd=!1);"keypress"===a.type&&ce?(ce.tf=a.charCode,ce=null):"keydown"===
a.type&&(ce=a);"keypress"!==a.type&&U.push(a);break;case "mouseout":for(f=0;3>f;f++)Wd[f]&&(U.push({type:"mouseup",button:f,pageX:a.pageX,pageY:a.pageY}),Wd[f]=0);a.preventDefault();break;case "focus":U.push(a);a.preventDefault();break;case "blur":U.push(a);b();a.preventDefault();break;case "visibilitychange":U.push({type:"visibilitychange",visible:!document.hidden});b();a.preventDefault();break;case "unload":Pc&&(U.push(a),Pc());return;case "resize":U.push(a),a.preventDefault&&a.preventDefault()}1E4<=
U.length&&(x("SDL event queue full, dropping events"),U=U.slice(0,1E4))}function ee(a){var b=a.keyCode;65<=b&&90>=b?b+=32:(b=Xd[a.keyCode]||a.keyCode,2===a.location&&1248<=b&&1251>=b&&(b+=4));return b}function fe(a){if(!(ge&&ge>=a&&0!=a)){ge=a;he=[];for(var b=0;b<a;b++)he[b]={audio:null,volume:1}}}
function ie(a,b){if(!a)return 0;var d=128*a.volume;if(-1!=b&&(a.volume=Math.min(Math.max(b,0),128)/128,a.audio))try{a.audio.volume=a.volume,a.audio.ad&&(a.audio.ad.gain.value=a.volume)}catch(f){x("setGetVolume failed to set audio volume: "+f)}return d}
function je(a){if(a&&!a.mc&&ke)try{var b=a.Nd.$c;a.paused=!1;b.Bd?(a.mc=ke.createBufferSource(),a.mc.buffer=b.Bd,a.mc.loop=a.loop,a.mc.onended=function(){a.onended()},a.Lc=ke.createPanner(),a.Lc.setPosition(0,0,-.5),a.Lc.panningModel="equalpower",a.ad=ke.createGain(),a.ad.gain.value=a.volume,a.mc.connect(a.Lc),a.Lc.connect(a.ad),a.ad.connect(ke.destination),a.mc.start(0,a.Pc),a.startTime=ke.currentTime-a.Pc):(void 0===b.rd&&r("Cannot play back audio object that was not loaded"),b.rd.push(function(){a.paused||
je(a)}))}catch(d){x("playWebAudio failed: "+d)}}function le(a){if(a){if(a.mc)try{a.Pc=(ke.currentTime-a.startTime)%a.Nd.$c.Bd.duration,a.mc.onended=void 0,a.mc.stop(0),a.mc=void 0}catch(b){x("pauseWebAudio failed: "+b)}a.paused=!0}}var me={};function ne(a,b){for(var d=Array(b.buttons.length),f=0;f<b.buttons.length;f++)d[f]=oe(b.buttons[f]);me[a]={buttons:d,axes:b.axes.slice(0),timestamp:b.timestamp,index:b.index,id:b.id}}function oe(a){return"object"===typeof a?a.pressed:0<a}
function pe(a){a=Math.min(1,Math.max(a,-1));return Math.ceil(32767.5*(a+1)-32768)}function qe(){var a=navigator.getGamepads||navigator.cg||navigator.Vd||navigator.ic||navigator.webkitGetGamepads;return void 0!==a?a.apply(navigator):[]}function re(a){var b=qe();return b.length>a&&0<=a?b[a]:null}var Yc={},td,ge,he,ke,se,te,ue;function ve(a){for(Ld[a]=null;0<Ld.length&&null===Ld[Ld.length-1];)Ld.pop()}
function we(a){try{var b=Ld[a];if(void 0===b)return 0;var d,f=b.filename;if(void 0===f)return ya("Only file names that have been preloaded are supported for IMG_Load_RW. Consider using STB_IMAGE=1 if you want synchronous image decoding (see settings.js), or package files with --use-preload-plugins"),0;if(!d)if(f=wb(f),d=n.preloadedImages[f])n.freePreloadedMediaOnUse&&(n.preloadedImages[f]=null);else return null===d&&x("Trying to reuse preloaded image, but freePreloadedMediaOnUse is set!"),ya("Cannot find preloaded image "+
f),ya("Cannot find preloaded image "+f+". Consider using STB_IMAGE=1 if you want synchronous image decoding (see settings.js), or package files with --use-preload-plugins"),0;var h=Zd(d.width,d.height,0,!1,"load:"+f),c=Id[h];c.$b.globalCompositeOperation="copy";if(d.Og){var e=c.$b.getImageData(0,0,c.width,c.height);if(4==d.dd)e.data.set(G.subarray(d.data,d.data+d.size));else if(3==d.dd)for(var g=d.size/3,k=e.data,m=d.data,q=0,u=0;u<g;u++)k[q++]=G[m++>>0],k[q++]=G[m++>>0],k[q++]=G[m++>>0],k[q++]=255;
else if(2==d.dd)for(g=d.size,k=e.data,m=d.data,u=q=0;u<g;u++){var w=G[m++>>0],t=G[m++>>0];k[q++]=w;k[q++]=w;k[q++]=w;k[q++]=t}else if(1==d.dd)for(g=d.size,k=e.data,m=d.data,u=q=0;u<g;u++){var l=G[m++>>0];k[q++]=l;k[q++]=l;k[q++]=l;k[q++]=255}else return x("cannot handle bpp "+d.dd),0;c.$b.putImageData(e,0,0)}else c.$b.drawImage(d,0,0,d.width,d.height,0,0,d.width,d.height);c.$b.globalCompositeOperation="source-over";var p=Id[h];p.locked++;if(!(1<p.locked||(p.buffer||(p.buffer=H(p.width*p.height*4),
J[h+20>>2]=p.buffer),J[h+20>>2]=p.buffer,h==td&&n.Sg&&p.image))){p.image=p.$b.getImageData(0,0,p.width,p.height);if(h==td){var v=p.image.data,z=v.length;for(d=0;d<z/4;d++)v[4*d+3]=255}if(p.qf(2097152))throw"CopyOnLock is not supported for SDL_LockSurface with SDL_HWPALETTE flag set"+Error().stack;G.set(p.image.data,p.buffer)}c.locked--;Nd&&(c.canvas=c.$b=null);return h}finally{b&&ve(a)}}function xe(a){var b=Ld.length;a=F(a);Ld.push({filename:a,vf:fd(a)});return b}function ye(a){Kd[a]=null}
function ze(){var a=Md.audio;a&&(a.src=a.src,a.Pc=0,a.pause());Md.audio=null;Yc.hf&&Wa.get(Yc.hf)();return 0}
function Ae(a){var b=Ld[a];if(void 0===b)return 0;a="";if(void 0!==b.filename){a=wb(b.filename);var d=n.preloadedAudios[a];if(!d){null===d&&x("Trying to reuse preloaded audio, but freePreloadedMediaOnUse is set!");n.Af||ya("Cannot find preloaded audio "+a);try{var f=uc(a)}catch(g){return x("Couldn't find file for: "+a),0}}n.freePreloadedMediaOnUse&&(n.preloadedAudios[a]=null)}else if(void 0!==b.ed)ke?f=G.buffer.slice(b.ed,b.ed+b.count):f=G.subarray(b.ed,b.ed+b.count);else return 0;var h=f?f.buffer||
f:f,c=void 0===n.SDL_canPlayWithWebAudio||n.SDL_canPlayWithWebAudio(a,h);if(void 0!==f&&ke&&c){d=void 0;var e={rd:[]};ke.decodeAudioData(h,function(g){e.Bd=g;e.rd.forEach(function(k){k()});e.rd=void 0})}else void 0===d&&f&&(f=URL.createObjectURL(new Blob([f],{type:b.vf})),d=new Audio,d.src=f,d.ic="content");f=Kd.length;Kd.push({source:a,audio:d,$c:e});return f}function Be(a,b,d){a.addEventListener(b,d,{once:!0})}
function Ce(){var a=ke,b;b||(b=[document,document.getElementById("canvas")]);["keydown","mousedown","touchstart"].forEach(function(d){b.forEach(function(f){f&&Be(f,d,function(){"suspended"===a.state&&a.resume()})})})}
function De(a,b,d){b=Kd[b];if(!b||!b.audio&&!b.$c)return-1;if(-1==a){for(var f=0;f<ge;f++)if(!he[f].audio){a=f;break}if(-1==a)return x("All "+ge+" channels in use!"),-1}var h=he[a];b.$c?(f={},f.Nd=b,f.paused=!1,f.Pc=0,f.play=function(){je(this)},f.pause=function(){le(this)}):(f=b.audio.cloneNode(!0),f.Cf=b.audio.Cf,f.frequency=b.audio.frequency);f.onended=function(){h.audio==this&&(h.audio.paused=!0,h.audio=null);Yc.Ke&&Wa.get(Yc.Ke)(a)};h.audio=f;f.loop=0!=d;f.volume=h.volume;f.play();return a}
function Ee(a,b){if(-1==a){for(a=0;a<ge-1;a++)Ee(a,b);return Ee(ge-1,b)}return ie(he[a],b)}function Fe(a){var b=a.getExtension("ANGLE_instanced_arrays");b&&(a.vertexAttribDivisor=function(d,f){b.vertexAttribDivisorANGLE(d,f)},a.drawArraysInstanced=function(d,f,h,c){b.drawArraysInstancedANGLE(d,f,h,c)},a.drawElementsInstanced=function(d,f,h,c,e){b.drawElementsInstancedANGLE(d,f,h,c,e)})}
function Ge(a){var b=a.getExtension("OES_vertex_array_object");b&&(a.createVertexArray=function(){return b.createVertexArrayOES()},a.deleteVertexArray=function(d){b.deleteVertexArrayOES(d)},a.bindVertexArray=function(d){b.bindVertexArrayOES(d)},a.isVertexArray=function(d){return b.isVertexArrayOES(d)})}function He(a){var b=a.getExtension("WEBGL_draw_buffers");b&&(a.drawBuffers=function(d,f){b.drawBuffersWEBGL(d,f)})}var Ie=1,Je=[],Ke=[],Le=[],nd=[],Me={},Ne=[1,1,2,2,4,4,4,2,3,4,8],Oe=4;
function Pe(a){Qe||(Qe=a)}function Re(a){for(var b=Ie++,d=a.length;d<b;d++)a[d]=null;return b}var Se=[];function Te(a){Se[a]||(Se[a]=!0,T.enableVertexAttribArray(a))}function md(a,b){if(a=a.getContext("webgl",b)){var d=Re(nd),f={yg:d,attributes:b,version:b.uf,nc:a};a.canvas&&(a.canvas.yc=f);nd[d]=f;("undefined"===typeof b.Te||b.Te)&&Ue(f);b=d}else b=0;return b}
function Ue(a){a||(a=R);if(!a.mf){a.mf=!0;var b=a.nc;a.jg=b.getExtension("WEBGL_compressed_texture_s3tc");a.eg=b.getExtension("EXT_texture_filter_anisotropic");Fe(b);Ge(b);He(b);b.qg=b.getExtension("EXT_disjoint_timer_query");b.Jg=b.getExtension("WEBGL_multi_draw");(b.getSupportedExtensions()||[]).forEach(function(d){0>d.indexOf("lose_context")&&0>d.indexOf("debug")&&b.getExtension(d)})}}var ld={},Qe,R;
function Ve(a){this.Dc=a-16;this.Pf=function(b){J[this.Dc+8>>2]=b};this.Mf=function(b){J[this.Dc+0>>2]=b};this.Nf=function(){J[this.Dc+4>>2]=0};this.Lf=function(){y[this.Dc+12>>0]=0};this.Of=function(){y[this.Dc+13>>0]=0};this.Wc=function(b,d){this.Pf(b);this.Mf(d);this.Nf();this.Lf();this.Of()}}var We=0,Xe;
function Ye(){function a(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(!Ze){Ze=!0;var b=(new Date).getFullYear(),d=new Date(b,0,1),f=new Date(b,6,1);b=d.getTimezoneOffset();var h=f.getTimezoneOffset(),c=Math.max(b,h);J[$e()>>2]=60*c;J[af()>>2]=Number(b!=h);d=a(d);f=a(f);d=Oa(d);f=Oa(f);h<b?(J[bf()>>2]=d,J[bf()+4>>2]=f):(J[bf()>>2]=f,J[bf()+4>>2]=d)}}
var Ze,W={fc:function(){n.websocket=n.websocket&&"object"===typeof n.websocket?n.websocket:{};n.websocket.zd={};n.websocket.on=function(a,b){"function"===typeof b&&(this.zd[a]=b);return this};n.websocket.emit=function(a,b){"function"===typeof this.zd[a]&&this.zd[a].call(this,b)};return Gb(null,"/",16895,0)},createSocket:function(a,b,d){b&=-526337;d&&assert(1==b==(6==d));a={family:a,type:b,protocol:d,Xb:null,error:null,Xc:{},pending:[],Ec:[],qc:W.ac};b=W.qd();d=Gb(W.root,b,49152,0);d.Fc=a;b=dc({path:b,
node:d,flags:2,seekable:!1,Pb:W.Pb});a.stream=b;return a},Ye:function(a){return(a=Mb[a])&&49152===(a.node.mode&49152)?a.node.Fc:null},Pb:{sd:function(a){a=a.node.Fc;return a.qc.sd(a)},nd:function(a,b,d){a=a.node.Fc;return a.qc.nd(a,b,d)},read:function(a,b,d,f){a=a.node.Fc;f=a.qc.Ae(a,f);if(!f)return 0;b.set(f.buffer,d);return f.buffer.length},write:function(a,b,d,f){a=a.node.Fc;return a.qc.Ce(a,b,d,f)},close:function(a){a=a.node.Fc;a.qc.close(a)}},qd:function(){W.qd.current||(W.qd.current=0);return"socket["+
W.qd.current++ +"]"},ac:{hd:function(a,b,d){if("object"===typeof b){var f=b;d=b=null}if(f)if(f._socket)b=f._socket.remoteAddress,d=f._socket.remotePort;else{d=/ws[s]?:\/\/([^:]+):(\d+)/.exec(f.url);if(!d)throw Error("WebSocket URL must be in the format ws(s)://address:port");b=d[1];d=parseInt(d[2],10)}else try{var h=n.websocket&&"object"===typeof n.websocket,c="ws:#".replace("#","//");h&&"string"===typeof n.websocket.url&&(c=n.websocket.url);if("ws://"===c||"wss://"===c){var e=b.split("/");c=c+e[0]+
":"+d+"/"+e.slice(1).join("/")}e="binary";h&&"string"===typeof n.websocket.subprotocol&&(e=n.websocket.subprotocol);var g=void 0;"null"!==e&&(e=e.replace(/^ +| +$/g,"").split(/ *, */),g=ia?{protocol:e.toString()}:e);h&&null===n.websocket.subprotocol&&(g=void 0);f=new (ia?require("ws"):WebSocket)(c,g);f.binaryType="arraybuffer"}catch(k){throw new P(23);}b={Wb:b,port:d,socket:f,jd:[]};W.ac.Wd(a,b);W.ac.bf(a,b);2===a.type&&"undefined"!==typeof a.Gc&&b.jd.push(new Uint8Array([255,255,255,255,112,111,
114,116,(a.Gc&65280)>>8,a.Gc&255]));return b},ld:function(a,b,d){return a.Xc[b+":"+d]},Wd:function(a,b){a.Xc[b.Wb+":"+b.port]=b},Be:function(a,b){delete a.Xc[b.Wb+":"+b.port]},bf:function(a,b){function d(){n.websocket.emit("open",a.stream.fd);try{for(var c=b.jd.shift();c;)b.socket.send(c),c=b.jd.shift()}catch(e){b.socket.close()}}function f(c){if("string"===typeof c)c=(new TextEncoder).encode(c);else{assert(void 0!==c.byteLength);if(0==c.byteLength)return;c=new Uint8Array(c)}var e=h;h=!1;e&&10===
c.length&&255===c[0]&&255===c[1]&&255===c[2]&&255===c[3]&&112===c[4]&&111===c[5]&&114===c[6]&&116===c[7]?(c=c[8]<<8|c[9],W.ac.Be(a,b),b.port=c,W.ac.Wd(a,b)):(a.Ec.push({Wb:b.Wb,port:b.port,data:c}),n.websocket.emit("message",a.stream.fd))}var h=!0;ia?(b.socket.on("open",d),b.socket.on("message",function(c,e){e.gg&&f((new Uint8Array(c)).buffer)}),b.socket.on("close",function(){n.websocket.emit("close",a.stream.fd)}),b.socket.on("error",function(){a.error=14;n.websocket.emit("error",[a.stream.fd,a.error,
"ECONNREFUSED: Connection refused"])})):(b.socket.onopen=d,b.socket.onclose=function(){n.websocket.emit("close",a.stream.fd)},b.socket.onmessage=function(c){f(c.data)},b.socket.onerror=function(){a.error=14;n.websocket.emit("error",[a.stream.fd,a.error,"ECONNREFUSED: Connection refused"])})},sd:function(a){if(1===a.type&&a.Xb)return a.pending.length?65:0;var b=0,d=1===a.type?W.ac.ld(a,a.oc,a.pc):null;if(a.Ec.length||!d||d&&d.socket.readyState===d.socket.CLOSING||d&&d.socket.readyState===d.socket.CLOSED)b|=
65;if(!d||d&&d.socket.readyState===d.socket.OPEN)b|=4;if(d&&d.socket.readyState===d.socket.CLOSING||d&&d.socket.readyState===d.socket.CLOSED)b|=16;return b},nd:function(a,b,d){switch(b){case 21531:return b=0,a.Ec.length&&(b=a.Ec[0].data.length),J[d>>2]=b,0;default:return 28}},close:function(a){if(a.Xb){try{a.Xb.close()}catch(h){}a.Xb=null}for(var b=Object.keys(a.Xc),d=0;d<b.length;d++){var f=a.Xc[b[d]];try{f.socket.close()}catch(h){}W.ac.Be(a,f)}return 0},bind:function(a,b,d){if("undefined"!==typeof a.Od||
"undefined"!==typeof a.Gc)throw new P(28);a.Od=b;a.Gc=d;if(2===a.type){a.Xb&&(a.Xb.close(),a.Xb=null);try{a.qc.listen(a,0)}catch(f){if(!(f instanceof P))throw f;if(138!==f.Rb)throw f;}}},connect:function(a,b,d){if(a.Xb)throw new P(138);if("undefined"!==typeof a.oc&&"undefined"!==typeof a.pc){var f=W.ac.ld(a,a.oc,a.pc);if(f){if(f.socket.readyState===f.socket.CONNECTING)throw new P(7);throw new P(30);}}b=W.ac.hd(a,b,d);a.oc=b.Wb;a.pc=b.port;throw new P(26);},listen:function(a){if(!ia)throw new P(138);
if(a.Xb)throw new P(28);var b=require("ws").Server;a.Xb=new b({host:a.Od,port:a.Gc});n.websocket.emit("listen",a.stream.fd);a.Xb.on("connection",function(d){if(1===a.type){var f=W.createSocket(a.family,a.type,a.protocol);d=W.ac.hd(f,d);f.oc=d.Wb;f.pc=d.port;a.pending.push(f);n.websocket.emit("connection",f.stream.fd)}else W.ac.hd(a,d),n.websocket.emit("connection",a.stream.fd)});a.Xb.on("closed",function(){n.websocket.emit("close",a.stream.fd);a.Xb=null});a.Xb.on("error",function(){a.error=23;n.websocket.emit("error",
[a.stream.fd,a.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(a){if(!a.Xb)throw new P(28);var b=a.pending.shift();b.stream.flags=a.stream.flags;return b},xg:function(a,b){if(b){if(void 0===a.oc||void 0===a.pc)throw new P(53);b=a.oc;a=a.pc}else b=a.Od||0,a=a.Gc||0;return{Wb:b,port:a}},Ce:function(a,b,d,f,h,c){if(2===a.type){if(void 0===h||void 0===c)h=a.oc,c=a.pc;if(void 0===h||void 0===c)throw new P(17);}else h=a.oc,c=a.pc;var e=W.ac.ld(a,h,c);if(1===a.type){if(!e||e.socket.readyState===
e.socket.CLOSING||e.socket.readyState===e.socket.CLOSED)throw new P(53);if(e.socket.readyState===e.socket.CONNECTING)throw new P(6);}ArrayBuffer.isView(b)&&(d+=b.byteOffset,b=b.buffer);b=b.slice(d,d+f);if(2===a.type&&(!e||e.socket.readyState!==e.socket.OPEN))return e&&e.socket.readyState!==e.socket.CLOSING&&e.socket.readyState!==e.socket.CLOSED||(e=W.ac.hd(a,h,c)),e.jd.push(b),f;try{return e.socket.send(b),f}catch(g){throw new P(28);}},Ae:function(a,b){if(1===a.type&&a.Xb)throw new P(53);var d=a.Ec.shift();
if(!d){if(1===a.type){if(a=W.ac.ld(a,a.oc,a.pc)){if(a.socket.readyState===a.socket.CLOSING||a.socket.readyState===a.socket.CLOSED)return null;throw new P(6);}throw new P(53);}throw new P(6);}var f=d.data.byteLength||d.data.length,h=d.data.byteOffset||0,c=d.data.buffer||d.data;b=Math.min(b,f);var e={buffer:new Uint8Array(c,h,b),Wb:d.Wb,port:d.port};1===a.type&&b<f&&(d.data=new Uint8Array(c,h+b,f-b),a.Ec.unshift(d));return e}}};function cf(a){a=W.Ye(a);if(!a)throw new P(8);return a}
function df(a){return(a&255)+"."+(a>>8&255)+"."+(a>>16&255)+"."+(a>>24&255)}
function ef(a){var b="",d,f=0,h=0,c=0,e=0;a=[a[0]&65535,a[0]>>16,a[1]&65535,a[1]>>16,a[2]&65535,a[2]>>16,a[3]&65535,a[3]>>16];var g=!0;for(d=0;5>d;d++)if(0!==a[d]){g=!1;break}if(g){d=df(a[6]|a[7]<<16);if(-1===a[5])return"::ffff:"+d;if(0===a[5])return"0.0.0.0"===d&&(d=""),"0.0.0.1"===d&&(d="1"),"::"+d}for(d=0;8>d;d++)0===a[d]&&(1<d-h&&(e=0),h=d,e++),e>f&&(f=e,c=d-f+1);for(d=0;8>d;d++)1<f&&0===a[d]&&d>=c&&d<c+f?d===c&&(b+=":",0===c&&(b+=":")):(b+=Number(ff(a[d]&65535)).toString(16),b+=7>d?":":"");return b}
function gf(a,b){var d=Ta[a>>1],f=ff(I[a+2>>1]);switch(d){case 2:if(16!==b)return{Rb:28};a=J[a+4>>2];a=df(a);break;case 10:if(28!==b)return{Rb:28};a=[J[a+8>>2],J[a+12>>2],J[a+16>>2],J[a+20>>2]];a=ef(a);break;default:return{Rb:5}}return{family:d,Wb:a,port:f}}function hf(a,b,d){if(d&&0===a)return null;a=gf(a,b);if(a.Rb)throw new P(a.Rb);b=a.Wb;a.Wb=(jf[b]?jf[b]:null)||a.Wb;return a}var kf=void 0;function lf(){kf+=4;return J[kf-4>>2]}function mf(a){a=Mb[a];if(!a)throw new P(8);return a}
function nf(a){a=a.split(".");for(var b=0;4>b;b++){var d=Number(a[b]);if(isNaN(d))return null;a[b]=d}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}
function of(a){var b,d,f=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(a))return null;if("::"===a)return[0,0,0,0,0,0,0,0];a=0===a.indexOf("::")?a.replace("::","Z:"):a.replace("::",":Z:");0<a.indexOf(".")?(a=a.replace(/[.]/g,":"),a=a.split(":"),a[a.length-4]=parseInt(a[a.length-4])+256*parseInt(a[a.length-3]),a[a.length-3]=parseInt(a[a.length-2])+256*parseInt(a[a.length-
1]),a=a.slice(0,a.length-2)):a=a.split(":");for(b=d=0;b<a.length;b++)if("string"===typeof a[b])if("Z"===a[b]){for(d=0;d<8-a.length+1;d++)f[b+d]=0;--d}else f[b+d]=pf(parseInt(a[b],16));else f[b+d]=a[b];return[f[1]<<16|f[0],f[3]<<16|f[2],f[5]<<16|f[4],f[7]<<16|f[6]]}
function qf(a,b,d,f,h){switch(b){case 2:d=nf(d);h&&(J[h>>2]=16);Ta[a>>1]=b;J[a+4>>2]=d;Ta[a+2>>1]=pf(f);ob=[0,(N=0,1<=+Math.abs(N)?0<N?(Math.min(+Math.floor(N/4294967296),4294967295)|0)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)];J[a+8>>2]=ob[0];J[a+12>>2]=ob[1];break;case 10:d=of(d);h&&(J[h>>2]=28);J[a>>2]=b;J[a+8>>2]=d[0];J[a+12>>2]=d[1];J[a+16>>2]=d[2];J[a+20>>2]=d[3];Ta[a+2>>1]=pf(f);J[a+4>>2]=0;J[a+24>>2]=0;break;default:return 5}return 0}var rf=1,sf={},jf={};
function tf(a){var b=nf(a);if(null!==b)return a;b=of(a);if(null!==b)return a;sf[a]?b=sf[a]:(b=rf++,assert(65535>b,"exceeded max address mappings of 65535"),b="172.29."+(b&255)+"."+(b&65280),jf[b]=a,sf[a]=b);return b}function uf(){void 0===uf.start&&(uf.start=Date.now());return 1E3*(Date.now()-uf.start)|0}function vf(a,b,d){wf.length=0;var f;for(d>>=2;f=G[b++];)(f=105>f)&&d&1&&d++,wf.push(f?Ua[d++>>1]:J[d]),++d;return pb[a].apply(null,wf)}var xf=0;
function yf(){for(var a=zf.length-1;0<=a;--a)Af(a);zf=[];Bf=[]}var Bf=[];function Cf(a){function b(c,e){if(c.length!=e.length)return!1;for(var g in c)if(c[g]!=e[g])return!1;return!0}var d=Df,f;for(f in Bf){var h=Bf[f];if(h.Qd==d&&b(h.Zd,a))return}Bf.push({Qd:d,ye:2,Zd:a});Bf.sort(function(c,e){return c.ye<e.ye})}function Ef(){if(xf&&Ff.Yd)for(var a=0;a<Bf.length;++a){var b=Bf[a];Bf.splice(a,1);--a;b.Qd.apply(null,b.Zd)}}var zf=[];
function Af(a){var b=zf[a];b.target.removeEventListener(b.Vc,b.Ue,b.Td);zf.splice(a,1)}function Gf(a){function b(f){++xf;Ff=a;Ef();a.ne(f);Ef();--xf}if(a.ce)a.Ue=b,a.target.addEventListener(a.Vc,b,a.Td),zf.push(a),Hf||($a.push(yf),Hf=!0);else for(var d=0;d<zf.length;++d)zf[d].target==a.target&&zf[d].Vc==a.Vc&&Af(d--)}var Hf,Ff,If,Jf;function Kf(a,b,d){a.style.paddingLeft=a.style.paddingRight=d+"px";a.style.paddingTop=a.style.paddingBottom=b+"px"}
var Lf=[0,"undefined"!==typeof document?document:0,"undefined"!==typeof window?window:0];function Mf(a){try{if(!a)return window;"number"===typeof a&&(a=Lf[a]||F(a));return"#window"===a?window:"#document"===a?document:"#screen"===a?screen:"#canvas"===a?n.canvas:"string"===typeof a?document.getElementById(a):a}catch(b){return null}}function Nf(a){"number"===typeof a&&(a=F(a));return a&&"#canvas"!==a?"undefined"!==typeof ld&&Me[a]?Me[a]:Mf(a):"undefined"!==typeof ld&&Me.canvas?Me.canvas:n.canvas}
function Of(a){var b=Ia(),d=Ga(8),f=d+4,h=Ga(a.id.length+1);Ha(a.id,h,a.id.length+1);if(a=Nf(h))J[d>>2]=a.width,J[f>>2]=a.height;d=[J[d>>2],J[f>>2]];Ja(b);return d}function Pf(a,b,d){if(a.lg){var f=Ia(),h=Ga(a.id.length+1);Ha(a.id,h,a.id.length+1);if(a=Nf(h))a.width=b,a.height=d;Ja(f)}else a.width=b,a.height=d}
function Qf(a){function b(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(document.removeEventListener("fullscreenchange",b),document.removeEventListener("webkitfullscreenchange",b),Pf(a,f,h),a.style.width=c,a.style.height=e,a.style.backgroundColor=g,k||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=k,a.style.paddingLeft=m,a.style.paddingRight=q,a.style.paddingTop=u,a.style.paddingBottom=w,a.style.marginLeft=t,a.style.marginRight=
l,a.style.marginTop=p,a.style.marginBottom=v,document.body.style.margin=z,document.documentElement.style.overflow=A,document.body.scroll=C,a.style.oe=B,a.yc&&a.yc.nc.viewport(0,0,f,h),Rf.zc&&Wa.get(Rf.zc)(37,0,Rf.Ad))}var d=Of(a),f=d[0],h=d[1],c=a.style.width,e=a.style.height,g=a.style.backgroundColor,k=document.body.style.backgroundColor,m=a.style.paddingLeft,q=a.style.paddingRight,u=a.style.paddingTop,w=a.style.paddingBottom,t=a.style.marginLeft,l=a.style.marginRight,p=a.style.marginTop,v=a.style.marginBottom,
z=document.body.style.margin,A=document.documentElement.style.overflow,C=document.body.scroll,B=a.style.oe;document.addEventListener("fullscreenchange",b);document.addEventListener("webkitfullscreenchange",b)}var Rf={};
function Sf(){var a=devicePixelRatio,b=2==Rf.gd,d=2==Rf.td,f=0!=Rf.gd,h=3==Rf.td,c=b?Math.round(innerHeight*a):innerHeight,e=b?Math.round(innerWidth*a):innerWidth,g=c,k=Rf.target,m=Of(k),q=m[0];m=m[1];if(d){e*m<q*g?g=e*m/q|0:e*m>q*g&&(e=g*q/m|0);var u=(c-g)/2|0}f&&(Pf(k,e,g),k.yc&&k.yc.nc.viewport(0,0,e,g));b&&(e=Math.round(e/a*1E4)/1E4,g=Math.round(g/a*1E4)/1E4,u=Math.round(u/a*1E4)/1E4);h?(a=(innerWidth-parseInt(k.style.width))/2,Kf(k,(innerHeight-parseInt(k.style.height))/2,a)):(k.style.width=
e+"px",k.style.height=g+"px",a=(innerWidth-e)/2,Kf(k,u,a));!h&&Rf.zc&&Wa.get(Rf.zc)(37,0,Rf.Ad)}function Df(a){if(a.requestPointerLock)a.requestPointerLock();else if(a.Kd)a.Kd();else return document.body.requestPointerLock||document.body.Kd?-3:-1;return 0}function Tf(){return"number"===typeof devicePixelRatio&&devicePixelRatio||1}function Uf(){return!ha}n._emscripten_is_main_browser_thread=Uf;
function Vf(a){a=eval(F(a));if(null==a)return 0;var b=Na(a);if(!Vf.bufferSize||Vf.bufferSize<b+1)Vf.bufferSize&&ae(Vf.buffer),Vf.bufferSize=b+1,Vf.buffer=H(Vf.bufferSize);Ha(a,Vf.buffer,Vf.bufferSize);return Vf.buffer}
function Wf(a,b,d){If||(If=H(1432));b={target:Mf(2),Yd:!0,Vc:"gamepadconnected",ce:d,ne:function(f){f=f||event;var h=If,c=f.gamepad;Ua[h>>3]=c.timestamp;for(var e=0;e<c.axes.length;++e)Ua[h+8*e+16>>3]=c.axes[e];for(e=0;e<c.buttons.length;++e)Ua[h+8*e+528>>3]="object"===typeof c.buttons[e]?c.buttons[e].value:c.buttons[e];for(e=0;e<c.buttons.length;++e)J[h+4*e+1040>>2]="object"===typeof c.buttons[e]?c.buttons[e].pressed:1==c.buttons[e];J[h+1296>>2]=c.connected;J[h+1300>>2]=c.index;J[h+8>>2]=c.axes.length;
J[h+12>>2]=c.buttons.length;Ha(c.id,h+1304,64);Ha(c.mapping,h+1368,64);Wa.get(d)(26,h,a)&&f.preventDefault()},Td:b};Gf(b)}
function Xf(a,b,d,f){Jf||(Jf=H(36));a=Mf(a);Gf({target:a,Vc:"resize",ce:f,ne:function(h){h=h||event;if(h.target==a){var c=document.body;if(c){var e=Jf;J[e>>2]=h.detail;J[e+4>>2]=c.clientWidth;J[e+8>>2]=c.clientHeight;J[e+12>>2]=innerWidth;J[e+16>>2]=innerHeight;J[e+20>>2]=outerWidth;J[e+24>>2]=outerHeight;J[e+28>>2]=pageXOffset;J[e+32>>2]=pageYOffset;Wa.get(f)(10,e,b)&&h.preventDefault()}}},Td:d})}var Yf=[];function Zf(a,b){L[a>>2]=b;L[a+4>>2]=b/4294967296|0}var $f;
function ag(a,b,d,f,h){function c(D){var K=0,E=0;D&&(E=B.response?B.response.byteLength:0,K=H(E),G.set(new Uint8Array(B.response),K));L[a+12>>2]=K;Zf(a+16,E)}var e=L[a+8>>2];if(e){var g=F(e),k=a+112,m=F(k);m||(m="GET");var q=L[k+52>>2],u=L[k+56>>2],w=!!L[k+60>>2],t=L[k+68>>2],l=L[k+72>>2];e=L[k+76>>2];var p=L[k+80>>2],v=L[k+84>>2];k=L[k+88>>2];var z=!!(q&1),A=!!(q&2);q=!!(q&64);t=t?F(t):void 0;l=l?F(l):void 0;var C=p?F(p):void 0,B=new XMLHttpRequest;B.withCredentials=w;B.open(m,g,!q,t,l);q||(B.timeout=
u);B.ic=g;B.responseType="arraybuffer";p&&B.overrideMimeType(C);if(e)for(;;){m=L[e>>2];if(!m)break;g=L[e+4>>2];if(!g)break;e+=8;m=F(m);g=F(g);B.setRequestHeader(m,g)}Yf.push(B);L[a+0>>2]=Yf.length;e=v&&k?G.slice(v,v+k):null;B.onload=function(D){c(z&&!A);var K=B.response?B.response.byteLength:0;Zf(a+24,0);K&&Zf(a+32,K);I[a+40>>1]=B.readyState;I[a+42>>1]=B.status;B.statusText&&Ha(B.statusText,a+44,64);200<=B.status&&300>B.status?b&&b(a,B,D):d&&d(a,B,D)};B.onerror=function(D){c(z);var K=B.status;Zf(a+
24,0);Zf(a+32,B.response?B.response.byteLength:0);I[a+40>>1]=B.readyState;I[a+42>>1]=K;d&&d(a,B,D)};B.ontimeout=function(D){d&&d(a,B,D)};B.onprogress=function(D){var K=z&&A&&B.response?B.response.byteLength:0,E=0;z&&A&&(E=H(K),G.set(new Uint8Array(B.response),E));L[a+12>>2]=E;Zf(a+16,K);Zf(a+24,D.loaded-K);Zf(a+32,D.total);I[a+40>>1]=B.readyState;3<=B.readyState&&0===B.status&&0<D.loaded&&(B.status=200);I[a+42>>1]=B.status;B.statusText&&Ha(B.statusText,a+44,64);f&&f(a,B,D);E&&ae(E)};B.onreadystatechange=
function(D){I[a+40>>1]=B.readyState;2<=B.readyState&&(I[a+42>>1]=B.status);h&&h(a,B,D)};try{B.send(e)}catch(D){d&&d(a,B,D)}}else d(a,0,"no url specified!")}
function bg(a,b,d,f){var h=$f;if(h){var c=L[a+112+64>>2];c||(c=L[a+8>>2]);var e=F(c);try{var g=h.transaction(["FILES"],"readwrite").objectStore("FILES").put(b,e);g.onsuccess=function(){I[a+40>>1]=4;I[a+42>>1]=200;Ha("OK",a+44,64);d(a,0,e)};g.onerror=function(k){I[a+40>>1]=4;I[a+42>>1]=413;Ha("Payload Too Large",a+44,64);f(a,0,k)}}catch(k){f(a,0,k)}}else f(a,0,"IndexedDB not available!")}
function cg(a,b,d){var f=$f;if(f){var h=L[a+112+64>>2];h||(h=L[a+8>>2]);h=F(h);try{var c=f.transaction(["FILES"],"readonly").objectStore("FILES").get(h);c.onsuccess=function(e){if(e.target.result){e=e.target.result;var g=e.byteLength||e.length,k=H(g);G.set(new Uint8Array(e),k);L[a+12>>2]=k;Zf(a+16,g);Zf(a+24,0);Zf(a+32,g);I[a+40>>1]=4;I[a+42>>1]=200;Ha("OK",a+44,64);b(a,0,e)}else I[a+40>>1]=4,I[a+42>>1]=404,Ha("Not Found",a+44,64),d(a,0,"no data")};c.onerror=function(e){I[a+40>>1]=4;I[a+42>>1]=404;
Ha("Not Found",a+44,64);d(a,0,e)}}catch(e){d(a,0,e)}}else d(a,0,"IndexedDB not available!")}
function dg(a,b,d){var f=$f;if(f){var h=L[a+112+64>>2];h||(h=L[a+8>>2]);h=F(h);try{var c=f.transaction(["FILES"],"readwrite").objectStore("FILES").delete(h);c.onsuccess=function(e){e=e.target.result;L[a+12>>2]=0;Zf(a+16,0);Zf(a+24,0);Zf(a+32,0);I[a+40>>1]=4;I[a+42>>1]=200;Ha("OK",a+44,64);b(a,0,e)};c.onerror=function(e){I[a+40>>1]=4;I[a+42>>1]=404;Ha("Not Found",a+44,64);d(a,0,e)}}catch(e){d(a,0,e)}}else d(a,0,"IndexedDB not available!")}var eg={};
function fg(){if(!gg){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:da||"./this.program"},b;for(b in eg)a[b]=eg[b];var d=[];for(b in a)d.push(b+"="+a[b]);gg=d}return gg}var gg;function hg(a,b){34962==a?ig=T.Yb=b:34963==a&&(T.Oc=b);T.bindBuffer(a,Je[b])}function jg(a){T.disable(a)}function kg(a){T.enable(a)}
function lg(a,b,d,f){for(var h=0;h<a;h++){var c=T[d](),e=c&&Re(f);c?(c.name=e,f[e]=c):Pe(1282);J[b+4*h>>2]=e}}
function mg(a,b,d){if(b){var f=void 0;switch(a){case 36346:f=1;break;case 36344:0!=d&&1!=d&&Pe(1280);return;case 36345:f=0;break;case 34466:var h=T.getParameter(34467);f=h?h.length:0}if(void 0===f)switch(h=T.getParameter(a),typeof h){case "number":f=h;break;case "boolean":f=h?1:0;break;case "string":Pe(1280);return;case "object":if(null===h)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:f=0;break;default:Pe(1280);return}else{if(h instanceof Float32Array||
h instanceof Uint32Array||h instanceof Int32Array||h instanceof Array){for(a=0;a<h.length;++a)switch(d){case 0:J[b+4*a>>2]=h[a];break;case 2:M[b+4*a>>2]=h[a];break;case 4:y[b+a>>0]=h[a]?1:0}return}try{f=h.name|0}catch(c){Pe(1280);x("GL_INVALID_ENUM in glGet"+d+"v: Unknown object returned from WebGL getParameter("+a+")! (error: "+c+")");return}}break;default:Pe(1280);x("GL_INVALID_ENUM in glGet"+d+"v: Native code calling glGet"+d+"v("+a+") and it returns "+h+" of type "+typeof h+"!");return}switch(d){case 1:d=
f;L[b>>2]=d;L[b+4>>2]=(d-L[b>>2])/4294967296;break;case 0:J[b>>2]=f;break;case 2:M[b>>2]=f;break;case 4:y[b>>0]=f?1:0}}else Pe(1281)}function ng(a,b){mg(a,b,2)}function og(a,b){mg(a,b,0)}var pg=null,qg=!1,rg=!1;
function sg(){if(!rg){rg=!0;pg=new Float32Array(4);x("WARNING: using emscripten GL emulation. This is a collection of limited workarounds, do not expect it to work.");x("WARNING: using emscripten GL emulation unsafe opts. If weirdness happens, try -s GL_UNSAFE_OPTS=0");var a={2884:1,3042:1,3024:1,2960:1,2929:1,3089:1,32823:1,32926:1,32928:1},b=kg;kg=function(e){2912==e?1!=qg&&(tg=null,qg=!0):3553!=e&&e in a&&b(e)};var d=jg;jg=function(e){2912==e?0!=qg&&(tg=null,qg=!1):3553!=e&&e in a&&d(e)};var f=
og;og=function(e,g){switch(e){case 34018:e=T.MAX_TEXTURE_IMAGE_UNITS;break;case 35658:e=T.getParameter(T.MAX_VERTEX_UNIFORM_VECTORS);J[g>>2]=4*e;return;case 35657:e=T.getParameter(T.MAX_FRAGMENT_UNIFORM_VECTORS);J[g>>2]=4*e;return;case 35659:e=T.getParameter(T.MAX_VARYING_VECTORS);J[g>>2]=4*e;return;case 34929:e=T.MAX_COMBINED_TEXTURE_IMAGE_UNITS;break;case 32890:e=ug[vg];J[g>>2]=e?e.size:0;return;case 32891:e=ug[vg];J[g>>2]=e?e.type:0;return;case 32892:e=ug[vg];J[g>>2]=e?e.uc:0;return;case 32897:e=
ug[wg];J[g>>2]=e?e.size:0;return;case 32898:e=ug[wg];J[g>>2]=e?e.type:0;return;case 32899:e=ug[wg];J[g>>2]=e?e.uc:0;return;case 32904:e=ug[xg+yg];J[g>>2]=e?e.size:0;return;case 32905:e=ug[xg+yg];J[g>>2]=e?e.type:0;return;case 32906:e=ug[xg+yg];J[g>>2]=e?e.uc:0;return}f(e,g)};var h=hg;hg=function(e,g){h(e,g)};var c=ng;ng=function(e,g){2982==e?M.set(zg[0],g>>2):2983==e?M.set(zg[1],g>>2):2984==e?M.set(zg[2+yg],g>>2):2918==e?M.set(pg,g>>2):2915==e?M[g>>2]=0:2916==e?M[g>>2]=1:2914==e?M[g>>2]=1:2917==e?
M[g>>2]=2048:c(e,g)}}}function Ag(a){var b=null;switch(a){case 3553:case 32888:b=xg+yg;break;case 32884:b=vg;break;case 32885:b=Bg;break;case 32886:b=wg}return b}var Cg,Dg=null;
function Eg(){function a(){var d=[];this.nf=function(c,e){this.contains(c|0)||d.push([c,e])};var f;this.contains=function(c){for(f=0;f<d.length;++f)if(d[f][0]===c)return!0;return!1};var h;this.get=function(c){for(h=0;h<d.length;++h)if(d[h][0]===c)return d[h][1]}}function b(){function d(){var e=new a;this.Le=function(g){e.contains(g|0)||e.nf(g|0,new d);return e.get(g|0)};this.value=void 0;this.get=function(){return this.value};this.set=function(g){this.value=g}}function f(e){var g;this.reset=function(){g=
e;return this};this.reset();this.next=function(k){g=g.Le(k);return this};this.get=function(){return g.get()};this.set=function(k){g.set(k)}}var h,c;this.Qe=function(){return new f(h)};this.clear=function(){h=new d;c=this.Qe()};this.clear();this.Ze=function(){c.reset();return c}}return{create:function(){return new b}}}var Fg=null;
function Gg(){function a(l){assert(!1,"[TexEnvJIT] ABORT: "+l)}function b(l){a("No support: "+l)}function d(l){var p=u[l].ke();switch(p){case 3552:p="texture2D";break;case 3553:p="texture2D";break;case 32879:return b("No support for 3D textures.");case 34067:p="textureCube";break;default:a("Sanity failure: Unknown texType: 0x"+p.toString(16));return}var v=k+l;null!=q&&(v="("+q+l+" * "+v+")");return p+"("+g+l+", "+v+".xy)"}function f(l,p,v,z,A){switch(z){case 5890:l=d(l);break;case 34166:l=p;break;
case 34167:l=m;break;case 34168:l=v;break;default:return b("Unsupported combiner src: 0x"+z.toString(16))}switch(A){case 768:A=l+".rgb";break;case 769:A="(vec3(1.0) - "+l+".rgb)";break;case 770:A=l+".a";break;case 771:A="(1.0 - "+l+".a)";break;default:return b("Unsupported combiner op: 0x"+A.toString(16))}return A}function h(l){return l==Math.round(l)?l+".0":l}function c(){this.Mc=this.Nc=this.mode=8448;this.rc=this.sc=1;this.Vb=[0,0,0,0];this.dc=[5890,34168,34166];this.cc=[5890,34168,34166];this.Zb=
[768,768,770];this.bc=[770,770,770];this.Ge={7681:0,8448:1,260:2,3042:3,8449:4,34160:5,34023:3,34165:4,5890:0,34166:1,34167:2,34168:3,768:0,769:1,770:2,771:3};this.od=-1;this.qe=this.pe=0;this.Ne=function(){var l=this.Ge,p=1638400*l[this.mode];p+=327680*l[this.Nc];p+=65536*l[this.Mc];p+=16384*(this.sc-1);p+=4096*(this.rc-1);p+=1024*l[this.dc[0]];p+=256*l[this.dc[1]];p+=64*l[this.dc[2]];p+=16*l[this.cc[0]];p+=4*l[this.cc[1]];return p+=l[this.cc[2]]};this.Oe=function(){var l=this.Ge;ba=4096*l[this.Zb[0]];
ba+=1024*l[this.Zb[1]];ba+=256*l[this.Zb[2]];ba+=16*l[this.bc[0]];ba+=4*l[this.bc[1]];return ba+=l[this.bc[2]]};this.Pe=function(){return 16777216*this.Vb[0]+65536*this.Vb[1]+256*this.Vb[2]+1+this.Vb[3]};this.Hf=function(){this.od=this.Ne();this.pe=this.Oe();this.qe=this.Pe()};this.Tb=function(){this.od=-1;tg=null}}function e(){this.env=new c;this.Uc=this.Tc=this.Sc=this.Rc=!1;this.Ub=0;this.Sd=function(l){this.Ub?(-1==this.env.od&&this.env.Hf(),l.next(this.Ub|this.env.od<<4),l.next(this.env.pe),
l.next(this.env.qe)):l.next(0)}}var g="uTexUnit",k="vTexCoord",m="vPrimColor",q="uTexMatrix",u=null,w=0,t=[];e.prototype.enabled=function(){return this.Ub};e.prototype.Hd=function(l,p,v){if(!this.enabled())return["vec4 "+l+" = "+p+";"];l=this.env.Hd(l,p,v).join("\n");p="";for(var z=/(texture.*?\(.*?\))/g,A=0,C;C=z.exec(l);){var B=C[1];-1!=l.slice(C.index+1).indexOf(B)&&(z="tej_env"+v+"_texload"+A++,p+="vec4 "+z+" = "+B+";\n\n",l=l.split(B).join(z),z=/(texture.*\(.*\))/g)}return[p+l]};e.prototype.ke=
function(){return this.Uc?34067:this.Tc?32879:this.Sc?3553:this.Rc?3552:0};c.prototype.Hd=function(l,p,v){switch(this.mode){case 7681:return["vec4 "+l+" = "+d(v)+";"];case 260:var z="tej_env"+v+"_",A=z+"tex",C=z+"color";z+="alpha";return["vec4 "+A+" = "+d(v)+";","vec3 "+C+" = "+p+".rgb + "+A+".rgb;","float "+z+" = "+p+".a * "+A+".a;","vec4 "+l+" = vec4("+C+", "+z+");"];case 8448:return l=["vec4 "+l," = ",p," * ",d(v),";"],[l.join("")];case 8449:return z="tej_env"+v+"_",A=z+"tex",C=z+"color",z+="alpha",
["vec4 "+A+" = "+d(v)+";",["vec3 "+C+" = ",p+".rgb * (1.0 - "+A+".a)"," + ",A+".rgb * "+A+".a",";"].join(""),"float "+z+" = "+p+".a;","vec4 "+l+" = vec4("+C+", "+z+");"];case 3042:return z="tej_env"+v+"_",A=z+"tex",C=z+"color",z+="alpha",["vec4 "+A+" = "+d(v)+";",["vec3 "+C+" = ",p+".rgb * (1.0 - "+A+".rgb)"," + ",m+".rgb * "+A+".rgb",";"].join(""),"float "+z+" = "+A+".a;","vec4 "+l+" = vec4("+C+", "+z+");"];case 34160:return z="tej_env"+v+"_",C=z+"color",z+="alpha",A=this.je(!0,C,p,v,this.Nc,this.dc,
this.Zb),p=this.je(!1,z,p,v,this.Mc,this.cc,this.bc),C=1==this.sc?C:C+" * "+h(this.sc),z=1==this.rc?z:z+" * "+h(this.rc),l=["vec4 "+l," = vec4(",C,", ",z,");"].join(""),[].concat(A,p,[l])}return b("Unsupported TexEnv mode: 0x"+this.mode.toString(16))};c.prototype.je=function(l,p,v,z,A,C,B){switch(A){case 7681:var D=1;break;case 8448:case 260:case 34023:D=2;break;case 34165:D=3;break;default:return b("Unsupported combiner: 0x"+A.toString(16))}var K=["vec4(",h(this.Vb[0]),", ",h(this.Vb[1]),", ",h(this.Vb[2]),
", ",h(this.Vb[3]),")"].join(""),E=1<=D?f(z,K,v,C[0],B[0]):null,S=2<=D?f(z,K,v,C[1],B[1]):null;v=3<=D?f(z,K,v,C[2],B[2]):null;l=l?"vec3":"float";switch(A){case 7681:p=[l+" "+p," = ",E,";"];p=[p.join("")];break;case 8448:p=[l+" "+p+" = ",E+" * "+S,";"];p=[p.join("")];break;case 260:p=[l+" "+p+" = ",E+" + "+S,";"];p=[p.join("")];break;case 34023:p=[l+" "+p+" = ",E+" - "+S,";"];p=[p.join("")];break;case 34165:z="tej_env"+z+"_colorSrc2";a:{A=this.Zb[2];switch(A){case 768:case 769:A="vec3";break a;case 770:case 771:A=
"float";break a}A=b("Unsupported combiner op: 0x"+A.toString(16))}p=[l+" "+p," = ",E+" * "+z," + ",S+" * (1.0 - "+z+")",";"];p=[A+" "+z+" = "+v+";",p.join("")];break;default:a("Sanity failure: Unmatched TexEnv.colorCombiner?");return}return p};return{Wc:function(l,p){var v=0;p?v=p:l&&(v=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS));u=[];for(l=0;l<v;l++)u.push(new e)},Kf:function(l,p,v,z){g=l;k=p;m=v;q=z},We:function(l,p){p=p||0;t.length=0;for(var v=[],z=m,A=0;A<u.length;A++)if(u[A].enabled()){t.push(A);
var C="tej_env"+A+"_result";z=u[A].Hd(C,z,A);v=v.concat(z,[""]);z=C}v.push(l+" = "+z+";");l="";for(A=0;A<p;A++)l+=" ";return l+v.join("\n"+l)},$e:function(){return t},Xe:function(){return w},Sd:function(l){for(var p=0;p<u.length;p++)u[p].Sd(l)},wg:function(l){return u[l].ke()},zg:function(l){w=l-33984;2<=X&&(X=2+w)},kf:function(l){var p=u[w];switch(l){case 3552:p.Rc||(tg=null,p.Rc=!0,p.Ub|=1);break;case 3553:p.Sc||(tg=null,p.Sc=!0,p.Ub|=2);break;case 32879:p.Tc||(tg=null,p.Tc=!0,p.Ub|=4);break;case 34067:p.Uc||
(tg=null,p.Uc=!0,p.Ub|=8)}},jf:function(l){var p=u[w];switch(l){case 3552:p.Rc&&(tg=null,p.Rc=!1,p.Ub&=-2);break;case 3553:p.Sc&&(tg=null,p.Sc=!1,p.Ub&=-3);break;case 32879:p.Tc&&(tg=null,p.Tc=!1,p.Ub&=-5);break;case 34067:p.Uc&&(tg=null,p.Uc=!1,p.Ub&=-9)}},Cg:function(l,p,v){if(8960==l)switch(l=u[w].env,p){case 34163:l.sc!=v&&(l.Tb(),l.sc=v);break;case 3356:l.rc!=v&&(l.Tb(),l.rc=v);break;default:x("WARNING: Unhandled `pname` in call to `glTexEnvf`.")}},lf:function(l,p,v){if(8960==l)switch(l=u[w].env,
p){case 8704:l.mode!=v&&(l.Tb(),l.mode=v);break;case 34161:l.Nc!=v&&(l.Tb(),l.Nc=v);break;case 34162:l.Mc!=v&&(l.Tb(),l.Mc=v);break;case 34176:l.dc[0]!=v&&(l.Tb(),l.dc[0]=v);break;case 34177:l.dc[1]!=v&&(l.Tb(),l.dc[1]=v);break;case 34178:l.dc[2]!=v&&(l.Tb(),l.dc[2]=v);break;case 34184:l.cc[0]!=v&&(l.Tb(),l.cc[0]=v);break;case 34185:l.cc[1]!=v&&(l.Tb(),l.cc[1]=v);break;case 34186:l.cc[2]!=v&&(l.Tb(),l.cc[2]=v);break;case 34192:l.Zb[0]!=v&&(l.Tb(),l.Zb[0]=v);break;case 34193:l.Zb[1]!=v&&(l.Tb(),l.Zb[1]=
v);break;case 34194:l.Zb[2]!=v&&(l.Tb(),l.Zb[2]=v);break;case 34200:l.bc[0]!=v&&(l.Tb(),l.bc[0]=v);break;case 34201:l.bc[1]!=v&&(l.Tb(),l.bc[1]=v);break;case 34202:l.bc[2]!=v&&(l.Tb(),l.bc[2]=v);break;case 34163:l.sc!=v&&(l.Tb(),l.sc=v);break;case 3356:l.rc!=v&&(l.Tb(),l.rc=v);break;default:x("WARNING: Unhandled `pname` in call to `glTexEnvi`.")}},Dg:function(l,p,v){if(8960==l)switch(l=u[w].env,p){case 8705:for(p=0;4>p;p++){var z=M[v+4*p>>2];l.Vb[p]!=z&&(l.Tb(),l.Vb[p]=z)}break;default:x("WARNING: Unhandled `pname` in call to `glTexEnvfv`.")}},
Bg:function(l,p,v){if(8960==l)switch(l=u[w].env,p){case 8704:J[v>>2]=l.mode;break;case 8705:J[v>>2]=Math.max(Math.min(255*l.Vb[0],255,-255));J[v+1>>2]=Math.max(Math.min(255*l.Vb[1],255,-255));J[v+2>>2]=Math.max(Math.min(255*l.Vb[2],255,-255));J[v+3>>2]=Math.max(Math.min(255*l.Vb[3],255,-255));break;case 34161:J[v>>2]=l.Nc;break;case 34162:J[v>>2]=l.Mc;break;case 34176:J[v>>2]=l.dc[0];break;case 34177:J[v>>2]=l.dc[1];break;case 34178:J[v>>2]=l.dc[2];break;case 34184:J[v>>2]=l.cc[0];break;case 34185:J[v>>
2]=l.cc[1];break;case 34186:J[v>>2]=l.cc[2];break;case 34192:J[v>>2]=l.Zb[0];break;case 34193:J[v>>2]=l.Zb[1];break;case 34194:J[v>>2]=l.Zb[2];break;case 34200:J[v>>2]=l.bc[0];break;case 34201:J[v>>2]=l.bc[1];break;case 34202:J[v>>2]=l.bc[2];break;case 34163:J[v>>2]=l.sc;break;case 3356:J[v>>2]=l.rc;break;default:x("WARNING: Unhandled `pname` in call to `glGetTexEnvi`.")}},Ag:function(l,p,v){if(8960==l)switch(l=u[w].env,p){case 8705:M[v>>2]=l.Vb[0],M[v+4>>2]=l.Vb[1],M[v+8>>2]=l.Vb[2],M[v+12>>2]=l.Vb[3]}}}}
var Hg=null,Ig=null,Jg=null,Kg=0,Lg=-1,Mg=null,Ng=[],Og=0,Pg=null,ig=null,Qg=null,zg=[],Rg=[],X=0,Sg=!1,Tg=!1,vg=0,Bg=1,wg=2,xg=3,Ug=-1,Vg=-1,Wg=0,Xg=[0,0],ug=[],Yg=[],tg=null,Zg=!1,yg=0,$g=null,ah=null;function bh(a,b,d,f,h){var c=ug[a];if(c)c.name=a,c.size=b,c.type=d,c.uc=f,c.Cc=h,c.offset=0;else for(c=0;c<=a;c++)ug[c]||(ug[c]={name:a,size:b,type:d,uc:f,Cc:h,offset:0});Zg=!0}
function ch(){if(tg)return tg;for(var a=Mg.Ze().reset(),b=0,d=0;d<Yg.length;d++)b|=1<<Yg[d].name;d=0;qg&&(d=3);b=(b<<2|d)<<1|(Lg==T.POINTS?1:0);a.next(b);Fg.Sd(a);b=a.get();return b?tg=b:(tg=b=dh(),a.set(b),b)}
function dh(){for(var a=!1,b=0;b<Vg;b++)Xg[xg+b]&&(a=!0);b={Wc:function(){var d,f=Tg?"u_textureMatrix":null;qg&&(d="  float fog = exp(-u_fogDensity * ecDistance); \n");Fg.Kf("u_texUnit","v_texCoord","v_color",f);var h=Fg.We("gl_FragColor",2),c="",e="",g="",k="";this.yd=Fg.$e();for(var m=0;m<this.yd.length;m++){var q=this.yd[m];c+="attribute vec4 a_texCoord"+q+";\n";e+="varying vec4 v_texCoord"+q+";\n";g+="uniform sampler2D u_texUnit"+q+";\n";k+="  v_texCoord"+q+" = a_texCoord"+q+";\n";Tg&&(g+="uniform mat4 "+
f+q+";\n")}m=null;qg&&(m="  v_fogFragCoord = abs(ecPosition.z);\n");q=f=null;Lg==T.POINTS&&(f="uniform float u_pointSize;\n",q="  gl_PointSize = u_pointSize;\n");c=["attribute vec4 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;",c,e,qg?"varying float v_fogFragCoord;":null,"uniform mat4 u_modelView;\nuniform mat4 u_projection;",f,"void main()\n{\n  vec4 ecPosition = u_modelView * a_position;\n  gl_Position = u_projection * ecPosition;\n  v_color = a_color;",k,m,q,"}\n"].join("\n").replace(/\n\n+/g,
"\n");this.Ud=T.createShader(T.VERTEX_SHADER);T.shaderSource(this.Ud,c);T.compileShader(this.Ud);c=null;qg&&(c=["\nvarying float v_fogFragCoord; \nuniform vec4 u_fogColor;      \nuniform float u_fogEnd;       \nuniform float u_fogScale;     \nuniform float u_fogDensity;   \nfloat ffog(in float ecDistance) { ",d,"  fog = clamp(fog, 0.0, 1.0); \n  return fog;                 \n}\n"].join("\n"));d=null;qg&&(d="gl_FragColor = vec4(mix(u_fogColor.rgb, gl_FragColor.rgb, ffog(v_fogFragCoord)), gl_FragColor.a);\n");
h=["precision mediump float;",e,g,"varying vec4 v_color;",c,"void main()\n{",h,d,"}\n"].join("\n").replace(/\n\n+/g,"\n");this.Gd=T.createShader(T.FRAGMENT_SHADER);T.shaderSource(this.Gd,h);T.compileShader(this.Gd);this.Qb=T.createProgram();T.attachShader(this.Qb,this.Ud);T.attachShader(this.Qb,this.Gd);T.bindAttribLocation(this.Qb,vg,"a_position");T.bindAttribLocation(this.Qb,wg,"a_color");T.bindAttribLocation(this.Qb,Bg,"a_normal");h=T.getParameter(T.MAX_VERTEX_ATTRIBS);for(m=0;m<Vg&&xg+m<h;m++)T.bindAttribLocation(this.Qb,
xg+m,"a_texCoord"+m),T.bindAttribLocation(this.Qb,xg+m,"a_texCoord"+m);T.linkProgram(this.Qb);this.Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Rf=[];for(m=0;m<Vg;m++)this.Rf[m]=Xg[xg+m]?T.getAttribLocation(this.Qb,"a_texCoord"+m):-1;this.Me=T.getAttribLocation(this.Qb,"a_color");h=T.getParameter(T.CURRENT_PROGRAM);T.useProgram(this.Qb);for(m=0;m<this.yd.length;m++)e=this.yd[m],T.uniform1i(T.getUniformLocation(this.Qb,"u_texUnit"+e),e);T.vertexAttrib4fv(this.Me,[1,1,1,1]);T.useProgram(h);this.Rd=[];
for(m=0;m<Vg;m++)this.Rd[m]=T.getUniformLocation(this.Qb,"u_textureMatrix"+m);this.Bf=T.getAttribLocation(this.Qb,"a_normal");this.te=T.getUniformLocation(this.Qb,"u_modelView");this.ze=T.getUniformLocation(this.Qb,"u_projection");this.ff=a;this.ef=Xg[Bg]&&0<ug[Bg].size&&0<=this.Bf;this.Cd=T.getUniformLocation(this.Qb,"u_fogColor");this.Ed=T.getUniformLocation(this.Qb,"u_fogEnd");this.Fd=T.getUniformLocation(this.Qb,"u_fogScale");this.Dd=T.getUniformLocation(this.Qb,"u_fogDensity");this.df=!!(this.Cd||
this.Ed||this.Fd||this.Dd);this.xe=T.getUniformLocation(this.Qb,"u_pointSize")},Ef:function(){if(T.Yb)var d=T.Yb;else{var f=eh*fh,h=gh*fh;d=32-Math.clz32(h-1);var c=R.Ic[d],e=R.vc[d];R.vc[d]=R.vc[d]+1&63;var g=c[e];g?d=g:(g=T.getParameter(34964),c[e]=T.createBuffer(),T.bindBuffer(34962,c[e]),T.bufferData(34962,1<<d,35048),T.bindBuffer(34962,g),d=c[e])}c=this==Pg&&d==ig&&this.Qb==Qg&&-1==fh&&!Sg;T.Yb||(d!=ig&&(T.bindBuffer(T.ARRAY_BUFFER,d),ig=d),T.bufferSubData(T.ARRAY_BUFFER,f,Hg.subarray(f>>2,h>>
2)));if(!c){Pg=this;Qg=this.Qb;-1==fh;Sg=!1;ah!=this.Qb&&(T.useProgram(this.Qb),ah=this.Qb);this.te&&this.wf!=Z[0]&&(this.wf=Z[0],T.uniformMatrix4fv(this.te,!1,zg[0]));this.ze&&this.Ff!=Z[1]&&(this.Ff=Z[1],T.uniformMatrix4fv(this.ze,!1,zg[1]));f=ug;h=f[vg];T.Yb||(T.vertexAttribPointer(vg,h.size,h.type,!1,fh,h.offset),this.ef&&(h=f[Bg],T.vertexAttribPointer(Bg,h.size,h.type,!0,fh,h.offset)));if(this.ff)for(h=0;h<Vg;h++)T.Yb||(d=xg+h,c=f[d],c.size?T.vertexAttribPointer(d,c.size,c.type,!1,fh,c.offset):
T.vertexAttrib4f(d,0,0,0,1)),d=2+h,this.Rd[h]&&this.Fe[d]!=Z[d]&&(this.Fe[d]=Z[d],T.uniformMatrix4fv(this.Rd[h],!1,zg[d]));Xg[wg]&&(f=f[wg],T.Yb||T.vertexAttribPointer(wg,f.size,f.type,!0,fh,f.offset));this.df&&(this.Cd&&T.uniform4fv(this.Cd,pg),this.Ed&&T.uniform1f(this.Ed,1),this.Fd&&T.uniform1f(this.Fd,1),this.Dd&&T.uniform1f(this.Dd,1));Lg==T.POINTS&&this.xe&&T.uniform1f(this.xe,1)}},ig:function(){}};b.Wc();return b}
function hh(a){if(Zg){Zg=!1;for(var b=2147483647,d=0,f=2147483647,h=0,c=Yg.length=0;c<3+Vg;c++)if(Xg[c]){var e=ug[c];Yg.push(e);b=Math.min(b,e.Cc);e.xc=e.size*Ne[e.type-5120];d+=e.xc;f=Math.min(f,e.uc);h=Math.max(h,e.uc)}if(f!=h||h<d){ih||(ih=H(2097152));b=ih;for(c=d=0;c<Yg.length;c++)e=Yg[c],f=e.xc,0!=f%4&&(f+=4-f%4),e.offset=d,d+=f;for(c=0;c<Yg.length;c++){e=Yg[c];var g=Math.max(e.xc,e.uc);if(0==(g&3)&&0==(e.xc&3)){g=e.xc>>2;var k=Math.max(e.xc,e.uc)>>2;for(f=0;f<a;f++)for(h=0;h<g;h++)J[(b+e.offset+
d*f>>2)+h]=J[(e.Cc>>2)+f*k+h]}else for(f=0;f<a;f++)for(h=0;h<e.xc;h++)y[b+e.offset+d*f+h]=y[e.Cc+f*g+h];e.Cc=b+e.offset}fh=d;jh=b}else{jh=T.Yb?0:b;for(c=0;c<Yg.length;c++)e=Yg[c],e.offset=e.Cc-jh;fh=Math.max(h,d)}Kg=fh*a/4}else Kg=fh*a/4}
function kh(a,b,d){b=b||0;d=d||0;var f=ch(),h=4*Kg/fh;if(h){var c=!1,e=0;if(a){e=a;if(!T.Yb&&eh>gh)for(var g=0;g<a;g++){var k=I[d+2*g>>1];eh=Math.min(eh,k);gh=Math.max(gh,k+1)}T.Oc||(c=32-Math.clz32((a<<1)-1),(g=R.Hc[c])?c=g:(g=T.getParameter(34965),R.Hc[c]=T.createBuffer(),T.bindBuffer(34963,R.Hc[c]),T.bufferData(34963,1<<c,35048),T.bindBuffer(34963,g),c=R.Hc[c]),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,c),T.bufferSubData(T.ELEMENT_ARRAY_BUFFER,0,I.subarray(d>>1,d+(a<<1)>>1)),d=0,c=!0)}else if(6<Lg){if(7!=
Lg)throw"unsupported immediate mode "+Lg;d=3*eh;e=h/4*6;T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,R.Ee);c=!0;Lg=T.TRIANGLES}f.Ef();e?T.drawElements(Lg,e,T.UNSIGNED_SHORT,d):T.drawArrays(Lg,b,h);c&&T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,Je[T.Oc]||null)}}
var jh,fh,eh,gh,Z,ih,lh=function(){var a={},b={},d={},f={},h=Float32Array;a.create=function(c){var e=new h(3);c?(e[0]=c[0],e[1]=c[1],e[2]=c[2]):e[0]=e[1]=e[2]=0;return e};a.set=function(c,e){e[0]=c[0];e[1]=c[1];e[2]=c[2];return e};a.add=function(c,e,g){if(!g||c===g)return c[0]+=e[0],c[1]+=e[1],c[2]+=e[2],c;g[0]=c[0]+e[0];g[1]=c[1]+e[1];g[2]=c[2]+e[2];return g};a.Wg=function(c,e,g){if(!g||c===g)return c[0]-=e[0],c[1]-=e[1],c[2]-=e[2],c;g[0]=c[0]-e[0];g[1]=c[1]-e[1];g[2]=c[2]-e[2];return g};a.multiply=
function(c,e,g){if(!g||c===g)return c[0]*=e[0],c[1]*=e[1],c[2]*=e[2],c;g[0]=c[0]*e[0];g[1]=c[1]*e[1];g[2]=c[2]*e[2];return g};a.Kg=function(c,e){e||(e=c);e[0]=-c[0];e[1]=-c[1];e[2]=-c[2];return e};a.scale=function(c,e,g){if(!g||c===g)return c[0]*=e,c[1]*=e,c[2]*=e,c;g[0]=c[0]*e;g[1]=c[1]*e;g[2]=c[2]*e;return g};a.normalize=function(c,e){e||(e=c);var g=c[0],k=c[1];c=c[2];var m=Math.sqrt(g*g+k*k+c*c);if(!m)return e[0]=0,e[1]=0,e[2]=0,e;if(1===m)return e[0]=g,e[1]=k,e[2]=c,e;m=1/m;e[0]=g*m;e[1]=k*m;
e[2]=c*m;return e};a.ng=function(c,e,g){g||(g=c);var k=c[0],m=c[1];c=c[2];var q=e[0],u=e[1];e=e[2];g[0]=m*e-c*u;g[1]=c*q-k*e;g[2]=k*u-m*q;return g};a.length=function(c){var e=c[0],g=c[1];c=c[2];return Math.sqrt(e*e+g*g+c*c)};a.Se=function(c,e){return c[0]*e[0]+c[1]*e[1]+c[2]*e[2]};a.direction=function(c,e,g){g||(g=c);var k=c[0]-e[0],m=c[1]-e[1];c=c[2]-e[2];e=Math.sqrt(k*k+m*m+c*c);if(!e)return g[0]=0,g[1]=0,g[2]=0,g;e=1/e;g[0]=k*e;g[1]=m*e;g[2]=c*e;return g};a.Eg=function(c,e,g,k){k||(k=c);k[0]=c[0]+
g*(e[0]-c[0]);k[1]=c[1]+g*(e[1]-c[1]);k[2]=c[2]+g*(e[2]-c[2]);return k};a.sg=function(c,e){var g=e[0]-c[0],k=e[1]-c[1];c=e[2]-c[2];return Math.sqrt(g*g+k*k+c*c)};a.eh=function(c,e,g,k,m){m||(m=c);var q=d.create(),u=new h(4);u[0]=2*(c[0]-k[0])/k[2]-1;u[1]=2*(c[1]-k[1])/k[3]-1;u[2]=2*c[2]-1;u[3]=1;d.multiply(g,e,q);if(!d.inverse(q))return null;d.zf(q,u);if(0===u[3])return null;m[0]=u[0]/u[3];m[1]=u[1]/u[3];m[2]=u[2]/u[3];return m};a.Pd=function(c){return"["+c[0]+", "+c[1]+", "+c[2]+"]"};b.create=function(c){var e=
new h(9);c&&(e[0]=c[0],e[1]=c[1],e[2]=c[2],e[3]=c[3],e[4]=c[4],e[5]=c[5],e[6]=c[6],e[7]=c[7],e[8]=c[8]);return e};b.set=function(c,e){e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4];e[5]=c[5];e[6]=c[6];e[7]=c[7];e[8]=c[8];return e};b.md=function(c){c||(c=b.create());c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=1;c[5]=0;c[6]=0;c[7]=0;c[8]=1;return c};b.Yf=function(c,e){if(!e||c===e){e=c[1];var g=c[2],k=c[5];c[1]=c[3];c[2]=c[6];c[3]=e;c[5]=c[7];c[6]=g;c[7]=k;return c}e[0]=c[0];e[1]=c[3];e[2]=c[6];e[3]=c[1];e[4]=
c[4];e[5]=c[7];e[6]=c[2];e[7]=c[5];e[8]=c[8];return e};b.Xf=function(c,e){e||(e=d.create());e[15]=1;e[14]=0;e[13]=0;e[12]=0;e[11]=0;e[10]=c[8];e[9]=c[7];e[8]=c[6];e[7]=0;e[6]=c[5];e[5]=c[4];e[4]=c[3];e[3]=0;e[2]=c[2];e[1]=c[1];e[0]=c[0];return e};b.Pd=function(c){return"["+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+"]"};d.create=function(c){var e=new h(16);c&&(e[0]=c[0],e[1]=c[1],e[2]=c[2],e[3]=c[3],e[4]=c[4],e[5]=c[5],e[6]=c[6],e[7]=c[7],e[8]=c[8],e[9]=c[9],
e[10]=c[10],e[11]=c[11],e[12]=c[12],e[13]=c[13],e[14]=c[14],e[15]=c[15]);return e};d.set=function(c,e){e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4];e[5]=c[5];e[6]=c[6];e[7]=c[7];e[8]=c[8];e[9]=c[9];e[10]=c[10];e[11]=c[11];e[12]=c[12];e[13]=c[13];e[14]=c[14];e[15]=c[15];return e};d.md=function(c){c||(c=d.create());c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};d.Yf=function(c,e){if(!e||c===e){e=c[1];var g=c[2],k=
c[3],m=c[6],q=c[7],u=c[11];c[1]=c[4];c[2]=c[8];c[3]=c[12];c[4]=e;c[6]=c[9];c[7]=c[13];c[8]=g;c[9]=m;c[11]=c[14];c[12]=k;c[13]=q;c[14]=u;return c}e[0]=c[0];e[1]=c[4];e[2]=c[8];e[3]=c[12];e[4]=c[1];e[5]=c[5];e[6]=c[9];e[7]=c[13];e[8]=c[2];e[9]=c[6];e[10]=c[10];e[11]=c[14];e[12]=c[3];e[13]=c[7];e[14]=c[11];e[15]=c[15];return e};d.pg=function(c){var e=c[0],g=c[1],k=c[2],m=c[3],q=c[4],u=c[5],w=c[6],t=c[7],l=c[8],p=c[9],v=c[10],z=c[11],A=c[12],C=c[13],B=c[14];c=c[15];return A*p*w*m-l*C*w*m-A*u*v*m+q*C*
v*m+l*u*B*m-q*p*B*m-A*p*k*t+l*C*k*t+A*g*v*t-e*C*v*t-l*g*B*t+e*p*B*t+A*u*k*z-q*C*k*z-A*g*w*z+e*C*w*z+q*g*B*z-e*u*B*z-l*u*k*c+q*p*k*c+l*g*w*c-e*p*w*c-q*g*v*c+e*u*v*c};d.inverse=function(c,e){e||(e=c);var g=c[0],k=c[1],m=c[2],q=c[3],u=c[4],w=c[5],t=c[6],l=c[7],p=c[8],v=c[9],z=c[10],A=c[11],C=c[12],B=c[13],D=c[14];c=c[15];var K=g*w-k*u,E=g*t-m*u,S=g*l-q*u,O=k*t-m*w,ka=k*l-q*w,la=m*l-q*t,ma=p*B-v*C,na=p*D-z*C,oa=p*c-A*C,pa=v*D-z*B,Ra=v*c-A*B,Sa=z*c-A*D,Y=K*Sa-E*Ra+S*pa+O*oa-ka*na+la*ma;if(!Y)return null;
Y=1/Y;e[0]=(w*Sa-t*Ra+l*pa)*Y;e[1]=(-k*Sa+m*Ra-q*pa)*Y;e[2]=(B*la-D*ka+c*O)*Y;e[3]=(-v*la+z*ka-A*O)*Y;e[4]=(-u*Sa+t*oa-l*na)*Y;e[5]=(g*Sa-m*oa+q*na)*Y;e[6]=(-C*la+D*S-c*E)*Y;e[7]=(p*la-z*S+A*E)*Y;e[8]=(u*Ra-w*oa+l*ma)*Y;e[9]=(-g*Ra+k*oa-q*ma)*Y;e[10]=(C*ka-B*S+c*K)*Y;e[11]=(-p*ka+v*S-A*K)*Y;e[12]=(-u*pa+w*na-t*ma)*Y;e[13]=(g*pa-k*na+m*ma)*Y;e[14]=(-C*O+B*E-D*K)*Y;e[15]=(p*O-v*E+z*K)*Y;return e};d.bh=function(c,e){e||(e=d.create());e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4];e[5]=c[5];e[6]=c[6];
e[7]=c[7];e[8]=c[8];e[9]=c[9];e[10]=c[10];e[11]=c[11];e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e};d.Wf=function(c,e){e||(e=b.create());e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[4];e[4]=c[5];e[5]=c[6];e[6]=c[8];e[7]=c[9];e[8]=c[10];return e};d.ah=function(c,e){var g=c[0],k=c[1],m=c[2],q=c[4],u=c[5],w=c[6],t=c[8],l=c[9];c=c[10];var p=c*u-w*l,v=-c*q+w*t,z=l*q-u*t,A=g*p+k*v+m*z;if(!A)return null;A=1/A;e||(e=b.create());e[0]=p*A;e[1]=(-c*k+m*l)*A;e[2]=(w*k-m*u)*A;e[3]=v*A;e[4]=(c*g-m*t)*A;e[5]=(-w*g+m*q)*A;e[6]=
z*A;e[7]=(-l*g+k*t)*A;e[8]=(u*g-k*q)*A;return e};d.multiply=function(c,e,g){g||(g=c);var k=c[0],m=c[1],q=c[2],u=c[3],w=c[4],t=c[5],l=c[6],p=c[7],v=c[8],z=c[9],A=c[10],C=c[11],B=c[12],D=c[13],K=c[14];c=c[15];var E=e[0],S=e[1],O=e[2],ka=e[3],la=e[4],ma=e[5],na=e[6],oa=e[7],pa=e[8],Ra=e[9],Sa=e[10],Y=e[11],id=e[12],jd=e[13],kd=e[14];e=e[15];g[0]=E*k+S*w+O*v+ka*B;g[1]=E*m+S*t+O*z+ka*D;g[2]=E*q+S*l+O*A+ka*K;g[3]=E*u+S*p+O*C+ka*c;g[4]=la*k+ma*w+na*v+oa*B;g[5]=la*m+ma*t+na*z+oa*D;g[6]=la*q+ma*l+na*A+oa*
K;g[7]=la*u+ma*p+na*C+oa*c;g[8]=pa*k+Ra*w+Sa*v+Y*B;g[9]=pa*m+Ra*t+Sa*z+Y*D;g[10]=pa*q+Ra*l+Sa*A+Y*K;g[11]=pa*u+Ra*p+Sa*C+Y*c;g[12]=id*k+jd*w+kd*v+e*B;g[13]=id*m+jd*t+kd*z+e*D;g[14]=id*q+jd*l+kd*A+e*K;g[15]=id*u+jd*p+kd*C+e*c;return g};d.yf=function(c,e,g){g||(g=e);var k=e[0],m=e[1];e=e[2];g[0]=c[0]*k+c[4]*m+c[8]*e+c[12];g[1]=c[1]*k+c[5]*m+c[9]*e+c[13];g[2]=c[2]*k+c[6]*m+c[10]*e+c[14];return g};d.zf=function(c,e){var g;g||(g=e);var k=e[0],m=e[1],q=e[2];e=e[3];g[0]=c[0]*k+c[4]*m+c[8]*q+c[12]*e;g[1]=
c[1]*k+c[5]*m+c[9]*q+c[13]*e;g[2]=c[2]*k+c[6]*m+c[10]*q+c[14]*e;g[3]=c[3]*k+c[7]*m+c[11]*q+c[15]*e};d.translate=function(c,e,g){var k=e[0],m=e[1];e=e[2];if(!g||c===g)return c[12]=c[0]*k+c[4]*m+c[8]*e+c[12],c[13]=c[1]*k+c[5]*m+c[9]*e+c[13],c[14]=c[2]*k+c[6]*m+c[10]*e+c[14],c[15]=c[3]*k+c[7]*m+c[11]*e+c[15],c;var q=c[0];var u=c[1];var w=c[2];var t=c[3];var l=c[4];var p=c[5];var v=c[6];var z=c[7];var A=c[8];var C=c[9];var B=c[10];var D=c[11];g[0]=q;g[1]=u;g[2]=w;g[3]=t;g[4]=l;g[5]=p;g[6]=v;g[7]=z;g[8]=
A;g[9]=C;g[10]=B;g[11]=D;g[12]=q*k+l*m+A*e+c[12];g[13]=u*k+p*m+C*e+c[13];g[14]=w*k+v*m+B*e+c[14];g[15]=t*k+z*m+D*e+c[15];return g};d.scale=function(c,e,g){var k=e[0],m=e[1];e=e[2];if(!g||c===g)return c[0]*=k,c[1]*=k,c[2]*=k,c[3]*=k,c[4]*=m,c[5]*=m,c[6]*=m,c[7]*=m,c[8]*=e,c[9]*=e,c[10]*=e,c[11]*=e,c;g[0]=c[0]*k;g[1]=c[1]*k;g[2]=c[2]*k;g[3]=c[3]*k;g[4]=c[4]*m;g[5]=c[5]*m;g[6]=c[6]*m;g[7]=c[7]*m;g[8]=c[8]*e;g[9]=c[9]*e;g[10]=c[10]*e;g[11]=c[11]*e;g[12]=c[12];g[13]=c[13];g[14]=c[14];g[15]=c[15];return g};
d.rotate=function(c,e,g,k){var m=g[0],q=g[1];g=g[2];var u=Math.sqrt(m*m+q*q+g*g);if(!u)return null;1!==u&&(u=1/u,m*=u,q*=u,g*=u);var w=Math.sin(e);var t=Math.cos(e);var l=1-t;e=c[0];u=c[1];var p=c[2];var v=c[3];var z=c[4];var A=c[5];var C=c[6];var B=c[7];var D=c[8];var K=c[9];var E=c[10];var S=c[11];var O=m*m*l+t;var ka=q*m*l+g*w;var la=g*m*l-q*w;var ma=m*q*l-g*w;var na=q*q*l+t;var oa=g*q*l+m*w;var pa=m*g*l+q*w;m=q*g*l-m*w;q=g*g*l+t;k?c!==k&&(k[12]=c[12],k[13]=c[13],k[14]=c[14],k[15]=c[15]):k=c;k[0]=
e*O+z*ka+D*la;k[1]=u*O+A*ka+K*la;k[2]=p*O+C*ka+E*la;k[3]=v*O+B*ka+S*la;k[4]=e*ma+z*na+D*oa;k[5]=u*ma+A*na+K*oa;k[6]=p*ma+C*na+E*oa;k[7]=v*ma+B*na+S*oa;k[8]=e*pa+z*m+D*q;k[9]=u*pa+A*m+K*q;k[10]=p*pa+C*m+E*q;k[11]=v*pa+B*m+S*q;return k};d.Pg=function(c,e,g){var k=Math.sin(e);e=Math.cos(e);var m=c[4],q=c[5],u=c[6],w=c[7],t=c[8],l=c[9],p=c[10],v=c[11];g?c!==g&&(g[0]=c[0],g[1]=c[1],g[2]=c[2],g[3]=c[3],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]):g=c;g[4]=m*e+t*k;g[5]=q*e+l*k;g[6]=u*e+p*k;g[7]=w*e+
v*k;g[8]=m*-k+t*e;g[9]=q*-k+l*e;g[10]=u*-k+p*e;g[11]=w*-k+v*e;return g};d.Qg=function(c,e,g){var k=Math.sin(e);e=Math.cos(e);var m=c[0],q=c[1],u=c[2],w=c[3],t=c[8],l=c[9],p=c[10],v=c[11];g?c!==g&&(g[4]=c[4],g[5]=c[5],g[6]=c[6],g[7]=c[7],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]):g=c;g[0]=m*e+t*-k;g[1]=q*e+l*-k;g[2]=u*e+p*-k;g[3]=w*e+v*-k;g[8]=m*k+t*e;g[9]=q*k+l*e;g[10]=u*k+p*e;g[11]=w*k+v*e;return g};d.Rg=function(c,e,g){var k=Math.sin(e);e=Math.cos(e);var m=c[0],q=c[1],u=c[2],w=c[3],t=c[4],
l=c[5],p=c[6],v=c[7];g?c!==g&&(g[8]=c[8],g[9]=c[9],g[10]=c[10],g[11]=c[11],g[12]=c[12],g[13]=c[13],g[14]=c[14],g[15]=c[15]):g=c;g[0]=m*e+t*k;g[1]=q*e+l*k;g[2]=u*e+p*k;g[3]=w*e+v*k;g[4]=m*-k+t*e;g[5]=q*-k+l*e;g[6]=u*-k+p*e;g[7]=w*-k+v*e;return g};d.he=function(c,e,g,k,m,q,u){u||(u=d.create());var w=e-c,t=k-g,l=q-m;u[0]=2*m/w;u[1]=0;u[2]=0;u[3]=0;u[4]=0;u[5]=2*m/t;u[6]=0;u[7]=0;u[8]=(e+c)/w;u[9]=(k+g)/t;u[10]=-(q+m)/l;u[11]=-1;u[12]=0;u[13]=0;u[14]=-(q*m*2)/l;u[15]=0;return u};d.perspective=function(c,
e,g,k,m){c=g*Math.tan(c*Math.PI/360);e*=c;return d.he(-e,e,-c,c,g,k,m)};d.Mg=function(c,e,g,k,m,q,u){u||(u=d.create());var w=e-c,t=k-g,l=q-m;u[0]=2/w;u[1]=0;u[2]=0;u[3]=0;u[4]=0;u[5]=2/t;u[6]=0;u[7]=0;u[8]=0;u[9]=0;u[10]=-2/l;u[11]=0;u[12]=-(c+e)/w;u[13]=-(k+g)/t;u[14]=-(q+m)/l;u[15]=1;return u};d.Fg=function(c,e,g,k){k||(k=d.create());var m=c[0],q=c[1];c=c[2];var u=g[0];var w=g[1];var t=g[2];var l=e[0];g=e[1];var p=e[2];if(m===l&&q===g&&c===p)return d.md(k);e=m-l;g=q-g;l=c-p;var v=1/Math.sqrt(e*
e+g*g+l*l);e*=v;g*=v;l*=v;p=w*l-t*g;t=t*e-u*l;u=u*g-w*e;(v=Math.sqrt(p*p+t*t+u*u))?(v=1/v,p*=v,t*=v,u*=v):u=t=p=0;w=g*u-l*t;var z=l*p-e*u;var A=e*t-g*p;(v=Math.sqrt(w*w+z*z+A*A))?(v=1/v,w*=v,z*=v,A*=v):A=z=w=0;k[0]=p;k[1]=w;k[2]=e;k[3]=0;k[4]=t;k[5]=z;k[6]=g;k[7]=0;k[8]=u;k[9]=A;k[10]=l;k[11]=0;k[12]=-(p*m+t*q+u*c);k[13]=-(w*m+z*q+A*c);k[14]=-(e*m+g*q+l*c);k[15]=1;return k};d.ug=function(c,e,g){g||(g=d.create());var k=c[0],m=c[1],q=c[2],u=c[3],w=k+k,t=m+m,l=q+q;c=k*w;var p=k*t;k*=l;var v=m*t;m*=l;
q*=l;w*=u;t*=u;u*=l;g[0]=1-(v+q);g[1]=p+u;g[2]=k-t;g[3]=0;g[4]=p-u;g[5]=1-(c+q);g[6]=m+w;g[7]=0;g[8]=k+t;g[9]=m-w;g[10]=1-(c+v);g[11]=0;g[12]=e[0];g[13]=e[1];g[14]=e[2];g[15]=1;return g};d.Pd=function(c){return"["+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+", "+c[9]+", "+c[10]+", "+c[11]+", "+c[12]+", "+c[13]+", "+c[14]+", "+c[15]+"]"};f.create=function(c){var e=new h(4);c&&(e[0]=c[0],e[1]=c[1],e[2]=c[2],e[3]=c[3]);return e};f.set=function(c,e){e[0]=c[0];
e[1]=c[1];e[2]=c[2];e[3]=c[3];return e};f.hg=function(c,e){var g=c[0],k=c[1],m=c[2];if(!e||c===e)return c[3]=-Math.sqrt(Math.abs(1-g*g-k*k-m*m)),c;e[0]=g;e[1]=k;e[2]=m;e[3]=-Math.sqrt(Math.abs(1-g*g-k*k-m*m));return e};f.Se=function(c,e){return c[0]*e[0]+c[1]*e[1]+c[2]*e[2]+c[3]*e[3]};f.inverse=function(c,e){var g=c[0],k=c[1],m=c[2],q=c[3];g=(g=g*g+k*k+m*m+q*q)?1/g:0;if(!e||c===e)return c[0]*=-g,c[1]*=-g,c[2]*=-g,c[3]*=g,c;e[0]=-c[0]*g;e[1]=-c[1]*g;e[2]=-c[2]*g;e[3]=c[3]*g;return e};f.kg=function(c,
e){if(!e||c===e)return c[0]*=-1,c[1]*=-1,c[2]*=-1,c;e[0]=-c[0];e[1]=-c[1];e[2]=-c[2];e[3]=c[3];return e};f.length=function(c){var e=c[0],g=c[1],k=c[2];c=c[3];return Math.sqrt(e*e+g*g+k*k+c*c)};f.normalize=function(c,e){e||(e=c);var g=c[0],k=c[1],m=c[2];c=c[3];var q=Math.sqrt(g*g+k*k+m*m+c*c);if(0===q)return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e;q=1/q;e[0]=g*q;e[1]=k*q;e[2]=m*q;e[3]=c*q;return e};f.add=function(c,e,g){if(!g||c===g)return c[0]+=e[0],c[1]+=e[1],c[2]+=e[2],c[3]+=e[3],c;g[0]=c[0]+e[0];g[1]=c[1]+
e[1];g[2]=c[2]+e[2];g[3]=c[3]+e[3];return g};f.multiply=function(c,e,g){g||(g=c);var k=c[0],m=c[1],q=c[2];c=c[3];var u=e[0],w=e[1],t=e[2];e=e[3];g[0]=k*e+c*u+m*t-q*w;g[1]=m*e+c*w+q*u-k*t;g[2]=q*e+c*t+k*w-m*u;g[3]=c*e-k*u-m*w-q*t;return g};f.yf=function(c,e,g){g||(g=e);var k=e[0],m=e[1],q=e[2];e=c[0];var u=c[1],w=c[2];c=c[3];var t=c*k+u*q-w*m,l=c*m+w*k-e*q,p=c*q+e*m-u*k;k=-e*k-u*m-w*q;g[0]=t*c+k*-e+l*-w-p*-u;g[1]=l*c+k*-u+p*-e-t*-w;g[2]=p*c+k*-w+t*-u-l*-e;return g};f.scale=function(c,e,g){if(!g||c===
g)return c[0]*=e,c[1]*=e,c[2]*=e,c[3]*=e,c;g[0]=c[0]*e;g[1]=c[1]*e;g[2]=c[2]*e;g[3]=c[3]*e;return g};f.Wf=function(c,e){e||(e=b.create());var g=c[0],k=c[1],m=c[2],q=c[3],u=g+g,w=k+k,t=m+m;c=g*u;var l=g*w;g*=t;var p=k*w;k*=t;m*=t;u*=q;w*=q;q*=t;e[0]=1-(p+m);e[1]=l+q;e[2]=g-w;e[3]=l-q;e[4]=1-(c+m);e[5]=k+u;e[6]=g+w;e[7]=k-u;e[8]=1-(c+p);return e};f.Xf=function(c,e){e||(e=d.create());var g=c[0],k=c[1],m=c[2],q=c[3],u=g+g,w=k+k,t=m+m;c=g*u;var l=g*w;g*=t;var p=k*w;k*=t;m*=t;u*=q;w*=q;q*=t;e[0]=1-(p+m);
e[1]=l+q;e[2]=g-w;e[3]=0;e[4]=l-q;e[5]=1-(c+m);e[6]=k+u;e[7]=0;e[8]=g+w;e[9]=k-u;e[10]=1-(c+p);e[11]=0;e[12]=0;e[13]=0;e[14]=0;e[15]=1;return e};f.Ug=function(c,e,g,k){k||(k=c);var m=c[0]*e[0]+c[1]*e[1]+c[2]*e[2]+c[3]*e[3];if(1<=Math.abs(m))return k!==c&&(k[0]=c[0],k[1]=c[1],k[2]=c[2],k[3]=c[3]),k;var q=Math.acos(m);var u=Math.sqrt(1-m*m);if(.001>Math.abs(u))return k[0]=.5*c[0]+.5*e[0],k[1]=.5*c[1]+.5*e[1],k[2]=.5*c[2]+.5*e[2],k[3]=.5*c[3]+.5*e[3],k;m=Math.sin((1-g)*q)/u;g=Math.sin(g*q)/u;k[0]=c[0]*
m+e[0]*g;k[1]=c[1]*m+e[1]*g;k[2]=c[2]*m+e[2]*g;k[3]=c[3]*m+e[3]*g;return k};f.Pd=function(c){return"["+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+"]"};return{fh:a,Gg:b,kc:d,Ng:f}}();function mh(){ya("glTexEnvi: TODO")}function nh(a,b,d,f,h){a-=5120;a=1==a?G:4==a?J:6==a?M:5==a||28922==a?L:I;var c=31-Math.clz32(a.BYTES_PER_ELEMENT),e=Oe;return a.subarray(h>>c,h+f*(d*({5:3,6:4,8:2,29502:3,29504:4}[b-6402]||1)*(1<<c)+e-1&-e)>>c)}function oh(a){return 0===a%4&&(0!==a%100||0===a%400)}
function ph(a,b){for(var d=0,f=0;f<=b;d+=a[f++]);return d}var qh=[31,29,31,30,31,30,31,31,30,31,30,31],rh=[31,28,31,30,31,30,31,31,30,31,30,31];function sh(a,b){for(a=new Date(a.getTime());0<b;){var d=a.getMonth(),f=(oh(a.getFullYear())?qh:rh)[d];if(b>f-a.getDate())b-=f-a.getDate()+1,a.setDate(1),11>d?a.setMonth(d+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);break}}return a}
function th(a,b,d,f){function h(t,l,p){for(t="number"===typeof t?t.toString():t||"";t.length<l;)t=p[0]+t;return t}function c(t,l){return h(t,l,"0")}function e(t,l){function p(z){return 0>z?-1:0<z?1:0}var v;0===(v=p(t.getFullYear()-l.getFullYear()))&&0===(v=p(t.getMonth()-l.getMonth()))&&(v=p(t.getDate()-l.getDate()));return v}function g(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),
0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function k(t){t=sh(new Date(t.ec+1900,0,1),t.xd);var l=new Date(t.getFullYear()+1,0,4),p=g(new Date(t.getFullYear(),0,4));l=g(l);return 0>=e(p,t)?0>=e(l,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m=J[f+40>>2];f={Uf:J[f>>2],Tf:J[f+4>>2],vd:J[f+8>>2],Zc:J[f+12>>2],Jc:J[f+16>>2],ec:J[f+20>>2],wd:J[f+24>>2],xd:J[f+28>>2],$g:J[f+32>>2],Sf:J[f+
36>>2],Vf:m?F(m):""};d=F(d);m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var q in m)d=d.replace(new RegExp(q,"g"),m[q]);var u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
w="January February March April May June July August September October November December".split(" ");m={"%a":function(t){return u[t.wd].substring(0,3)},"%A":function(t){return u[t.wd]},"%b":function(t){return w[t.Jc].substring(0,3)},"%B":function(t){return w[t.Jc]},"%C":function(t){return c((t.ec+1900)/100|0,2)},"%d":function(t){return c(t.Zc,2)},"%e":function(t){return h(t.Zc,2," ")},"%g":function(t){return k(t).toString().substring(2)},"%G":function(t){return k(t)},"%H":function(t){return c(t.vd,
2)},"%I":function(t){t=t.vd;0==t?t=12:12<t&&(t-=12);return c(t,2)},"%j":function(t){return c(t.Zc+ph(oh(t.ec+1900)?qh:rh,t.Jc-1),3)},"%m":function(t){return c(t.Jc+1,2)},"%M":function(t){return c(t.Tf,2)},"%n":function(){return"\n"},"%p":function(t){return 0<=t.vd&&12>t.vd?"AM":"PM"},"%S":function(t){return c(t.Uf,2)},"%t":function(){return"\t"},"%u":function(t){return t.wd||7},"%U":function(t){var l=new Date(t.ec+1900,0,1),p=0===l.getDay()?l:sh(l,7-l.getDay());t=new Date(t.ec+1900,t.Jc,t.Zc);return 0>
e(p,t)?c(Math.ceil((31-p.getDate()+(ph(oh(t.getFullYear())?qh:rh,t.getMonth()-1)-31)+t.getDate())/7),2):0===e(p,l)?"01":"00"},"%V":function(t){var l=new Date(t.ec+1901,0,4),p=g(new Date(t.ec+1900,0,4));l=g(l);var v=sh(new Date(t.ec+1900,0,1),t.xd);return 0>e(v,p)?"53":0>=e(l,v)?"01":c(Math.ceil((p.getFullYear()<t.ec+1900?t.xd+32-p.getDate():t.xd+1-p.getDate())/7),2)},"%w":function(t){return t.wd},"%W":function(t){var l=new Date(t.ec,0,1),p=1===l.getDay()?l:sh(l,0===l.getDay()?1:7-l.getDay()+1);t=
new Date(t.ec+1900,t.Jc,t.Zc);return 0>e(p,t)?c(Math.ceil((31-p.getDate()+(ph(oh(t.getFullYear())?qh:rh,t.getMonth()-1)-31)+t.getDate())/7),2):0===e(p,l)?"01":"00"},"%y":function(t){return(t.ec+1900).toString().substring(2)},"%Y":function(t){return t.ec+1900},"%z":function(t){t=t.Sf;var l=0<=t;t=Math.abs(t)/60;return(l?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Vf},"%%":function(){return"%"}};for(q in m)0<=d.indexOf(q)&&(d=d.replace(new RegExp(q,"g"),m[q](f)));q=
Cb(d,!1);if(q.length>b)return 0;y.set(q,a);return q.length-1}var wf=[];function Yb(a,b,d,f){a||(a=this);this.parent=a;this.fc=a.fc;this.tc=null;this.id=Nb++;this.name=b;this.mode=d;this.Nb={};this.Pb={};this.rdev=f}
Object.defineProperties(Yb.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(a){a?this.mode|=146:this.mode&=-147}},rf:{get:function(){return Hb(this.mode)}},pf:{get:function(){return 8192===(this.mode&61440)}}});vc();Ob=Array(4096);fc(Q,"/");ic("/tmp");ic("/home");ic("/home/web_user");
(function(){ic("/dev");Ab(259,{read:function(){return 0},write:function(b,d,f,h){return h}});jc("/dev/null",259);zb(1280,Db);zb(1536,Eb);jc("/dev/tty",1280);jc("/dev/tty1",1536);var a=rb();Bc("/dev","random",a);Bc("/dev","urandom",a);ic("/dev/shm");ic("/dev/shm/tmp")})();
(function(){ic("/proc");var a=ic("/proc/self");ic("/proc/self/fd");fc({fc:function(){var b=Gb(a,"fd",16895,73);b.Nb={lookup:function(d,f){var h=Mb[+f];if(!h)throw new P(8);d={parent:null,fc:{ue:"fake"},Nb:{readlink:function(){return h.path}}};return d.parent=d}};return b}},"/proc/self/fd")})();n.FS_createPath=yc;n.FS_createDataFile=Ac;n.FS_createPreloadedFile=Ec;n.FS_createLazyFile=Dc;n.FS_createDevice=Bc;n.FS_unlink=lc;n.requestFullscreen=function(a,b){rd(a,b)};n.requestAnimationFrame=function(a){Qc(a)};
n.setCanvasSize=function(a,b,d){Gd(a,b,d)};n.pauseMainLoop=function(){Mc=null;Tc++};n.resumeMainLoop=function(){Tc++;var a=Jc,b=Kc,d=Lc;Lc=null;Rc(d,0,!1,Sc,!0);Ic(a,b);Mc()};n.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia);window.getUserMedia(void 0)};n.createContext=function(a,b,d,f){return hd(a,b,d,f)};var T;
(function(a,b){try{var d=indexedDB.open("emscripten_filesystem",1)}catch(f){b(f);return}d.onupgradeneeded=function(f){f=f.target.result;f.objectStoreNames.contains("FILES")&&f.deleteObjectStore("FILES");f.createObjectStore("FILES")};d.onsuccess=function(f){a(f.target.result)};d.onerror=function(f){b(f)}})(function(a){$f=a;hb("library_fetch_init")},function(){$f=!1;hb("library_fetch_init")});"undefined"!==typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||gb("library_fetch_init");
Dg=Eg();Eg=null;Fg=Gg();Gg=null;(function(){rg||sg();var a=kg;kg=function(f){Fg.kf(f);a(f)};var b=jg;jg=function(f){Fg.jf(f);b(f)};mh=function(f,h,c){Fg.lf(f,h,c)};var d=og;og=function(f,h){switch(f){case 35725:if(T.getParameter(T.CURRENT_PROGRAM)==ah){J[h>>2]=0;return}}d(f,h)}})();
ad.push(function(){x("WARNING: using emscripten GL immediate mode emulation. This is very limited in what it supports");if(n.ag){Vg=n.GL_MAX_TEXTURE_IMAGE_UNITS||T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS);Fg.Wc(T,Vg);Ug=3+Vg;ug=[];Cg=[];for(var a=0;a<Ug;a++)ug.push({}),Cg.push(!1);zg=[];Rg=[];Z=[];for(a=0;a<2+Vg;a++)Rg.push([]),Z.push(0),zg.push(lh.kc.create()),lh.kc.md(zg[a]);Mg=Dg.create();Jg=new Float32Array(524288);Ig=new Uint8Array(Jg.buffer);a=R;a.vc=[];a.ud=[];a.vc.length=a.ud.length=22;a.Ic=
[];a.Yc=[];a.Ic.length=a.Yc.length=22;a.Hc=[];a.Hc.length=22;for(var b=0;21>=b;++b){a.Hc[b]=null;a.vc[b]=a.ud[b]=0;a.Ic[b]=[];a.Yc[b]=[];var d=a.Ic[b],f=a.Yc[b];d.length=f.length=64;for(var h=0;64>h;++h)d[h]=f[h]=null}a.Ee=T.createBuffer();a.nc.bindBuffer(34963,a.Ee);d=new Uint16Array(1048576);for(f=b=0;;){d[b++]=f;if(1048576<=b)break;d[b++]=f+1;if(1048576<=b)break;d[b++]=f+2;if(1048576<=b)break;d[b++]=f;if(1048576<=b)break;d[b++]=f+2;if(1048576<=b)break;d[b++]=f+3;if(1048576<=b)break;f+=4}a.nc.bufferData(34963,
d,35044);a.nc.bindBuffer(34963,null);$g=new Float32Array([1,1,1,1])}});sg();function Cb(a,b){var d=Array(Na(a)+1);a=Ma(a,d,0,d.length);b&&(d.length=a);return d}
var Bh={Ya:function(a){a=xe(a);return we(a)},db:function(a){fe(a);return a},L:ye,kb:function(a){return ye(a)},lb:ze,jb:function(a){a=xe(a);var b=Ae(a);ve(a);return b},sa:function(a){a=xe(a);var b=Ae(a);ve(a);return b},eb:function(){ke||("undefined"!==typeof AudioContext?ke=new AudioContext:"undefined"!==typeof webkitAudioContext&&(ke=new webkitAudioContext));Ce();fe(32);return 0},ra:function(a,b,d){return De(a,b,d)},ib:function(a,b){Md.audio&&(Md.audio.paused||x("Music is already playing. "+Md.source),
Md.audio.pause());a=Kd[a];if(a.$c){var d={};d.Nd=a;d.paused=!1;d.Pc=0;d.play=function(){je(this)};d.pause=function(){le(this)}}else a.audio&&(d=a.audio);d.onended=function(){Md.audio==this&&ze()};d.loop=0!=b&&1!=b;d.volume=Md.volume;Md.audio=d;d.play();return 0},qa:function(a,b,d){(a=he[a])&&a.audio&&a.audio.Lc&&a.audio.Lc.setPosition(d/255-b/255,0,.1);return 1},X:Ee,mb:function(a){return ie(Md,a)},ja:function(a){a&&$d(a)},M:function(a,b){a in Od||r("Unknown SDL GL attribute ("+a+"). Please check if your SDL version is supported.");
Od[a]=b},rb:function(){Hd.Re&&Hd.Re()},R:function(){if(!se){var a=Cb("unknown SDL-emscripten error");var b=H(a.length);a.subarray||a.slice?G.set(a,b):G.set(new Uint8Array(a),b);se=b}return se},Z:function(){return Vd},qb:function(a){Sd=Date.now();Td=a;n.doNotCaptureKeyboard||(a=n.keyboardListeningElement||document,a.addEventListener("keydown",de),a.addEventListener("keyup",de),a.addEventListener("keypress",de),window.addEventListener("focus",de),window.addEventListener("blur",de),document.addEventListener("visibilitychange",
de));window.addEventListener("unload",de);Pd=H(65536);uh(Pd,0,65536);V.keydown=768;V.keyup=769;V.keypress=771;V.mousedown=1025;V.mouseup=1026;V.mousemove=1024;V.wheel=1027;V.touchstart=1792;V.touchend=1793;V.touchmove=1794;V.unload=256;V.resize=28673;V.visibilitychange=512;V.focus=512;V.blur=512;V.joystick_axis_motion=1536;V.joystick_button_down=1539;V.joystick_button_up=1540;return 0},N:function(a,b){return(a=re(a-1))&&a.axes.length>b?pe(a.axes[b]):0},ua:function(a){var b=re(a);return b?(a+=1,ne(a,
b),a):0},ca:function(){for(var a=0,b=qe(),d=0;d<b.length;d++)void 0!==b[d]&&a++;return a},_:function(a){a:{if(Td&512)for(var b in me){var d=re(b-1),f=me[b];if("undefined"===typeof d)break;if(null===d)break;if("number"!==typeof d.timestamp||d.timestamp!==f.timestamp||!d.timestamp){var h;for(h=0;h<d.buttons.length;h++){var c=oe(d.buttons[h]);c!==f.buttons[h]&&U.push({type:c?"joystick_button_down":"joystick_button_up",sf:b,index:b-1,button:h})}for(h=0;h<d.axes.length;h++)d.axes[h]!==f.axes[h]&&U.push({type:"joystick_axis_motion",
sf:b,index:b-1,axis:h,value:d.axes[h]});ne(b,d)}}if(a){for(;0<U.length;){b:{f=void 0;d=U.shift();b=a;if("number"===typeof d)vh(b,d,28),ae(d);else{if(!d.cf)switch(d.cf=!0,d.type){case "touchstart":case "touchend":case "touchmove":Ed(d);break;case "keydown":case "keyup":h="keydown"===d.type;c=ee(d);y[Pd+c>>0]=h;Vd=(y[Pd+1248>>0]?64:0)|(y[Pd+1249>>0]?1:0)|(y[Pd+1250>>0]?256:0)|(y[Pd+1252>>0]?128:0)|(y[Pd+1253>>0]?2:0)|(y[Pd+1254>>0]?512:0);h?Qd[c]=d.keyCode:delete Qd[c];break;case "mousedown":case "mouseup":"mousedown"==
d.type?Ud|=1<<d.button:"mouseup"==d.type&&(Ud&=~(1<<d.button));case "mousemove":Ed(d)}switch(d.type){case "keydown":case "keyup":h="keydown"===d.type;c=ee(d);1024<=c?f=c-1024:f=Yd[c]||c;J[b>>2]=V[d.type];y[b+8>>0]=h?1:0;y[b+9>>0]=0;J[b+12>>2]=f;J[b+16>>2]=c;Ta[b+20>>1]=Vd;J[b+24>>2]=d.tf||c;break;case "keypress":J[b>>2]=V[d.type];d=Cb(String.fromCharCode(d.charCode));for(f=0;f<d.length;++f)y[b+(8+f)>>0]=d[f];break;case "mousedown":case "mouseup":case "mousemove":"mousemove"!=d.type?(h="mousedown"===
d.type,J[b>>2]=V[d.type],J[b+4>>2]=0,J[b+8>>2]=0,J[b+12>>2]=0,y[b+16>>0]=d.button+1,y[b+17>>0]=h?1:0,J[b+20>>2]=yd,J[b+24>>2]=zd):(J[b>>2]=V[d.type],J[b+4>>2]=0,J[b+8>>2]=0,J[b+12>>2]=0,J[b+16>>2]=Ud,J[b+20>>2]=yd,J[b+24>>2]=zd,J[b+28>>2]=Ad,J[b+32>>2]=Bd);break;case "wheel":J[b>>2]=V[d.type];J[b+16>>2]=d.deltaX;J[b+20>>2]=d.deltaY;break;case "touchstart":case "touchend":case "touchmove":f=d.Kc;if(!Cd[f.identifier])break;var e=n.canvas.width,g=n.canvas.height;h=Cd[f.identifier].x/e;c=Cd[f.identifier].y/
g;e=h-Dd[f.identifier].x/e;g=c-Dd[f.identifier].y/g;void 0===f.deviceID&&(f.Qc=0);if(0===e&&0===g&&"touchmove"===d.type){b=!1;break b}J[b>>2]=V[d.type];J[b+4>>2]=Date.now()-Sd|0;ob=[f.Qc>>>0,(N=f.Qc,1<=+Math.abs(N)?0<N?(Math.min(+Math.floor(N/4294967296),4294967295)|0)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)];J[b+8>>2]=ob[0];J[b+12>>2]=ob[1];ob=[f.identifier>>>0,(N=f.identifier,1<=+Math.abs(N)?0<N?(Math.min(+Math.floor(N/4294967296),4294967295)|0)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>
0:0)];J[b+16>>2]=ob[0];J[b+20>>2]=ob[1];M[b+24>>2]=h;M[b+28>>2]=c;M[b+32>>2]=e;M[b+36>>2]=g;M[b+40>>2]=void 0!==f.force?f.force:"touchend"==d.type?0:1;break;case "unload":J[b>>2]=V[d.type];break;case "resize":J[b>>2]=V[d.type];J[b+4>>2]=d.w;J[b+8>>2]=d.af;break;case "joystick_button_up":case "joystick_button_down":f="joystick_button_up"===d.type?0:1;J[b>>2]=V[d.type];y[b+4>>0]=d.index;y[b+5>>0]=d.button;y[b+6>>0]=f;break;case "joystick_axis_motion":J[b>>2]=V[d.type];y[b+4>>0]=d.index;y[b+5>>0]=d.axis;
J[b+8>>2]=pe(d.value);break;case "focus":J[b>>2]=V[d.type];J[b+4>>2]=0;y[b+8>>0]=12;break;case "blur":J[b>>2]=V[d.type];J[b+4>>2]=0;y[b+8>>0]=13;break;case "visibilitychange":f=d.visible?1:2;J[b>>2]=V[d.type];J[b+4>>2]=0;y[b+8>>0]=f;break;default:throw"Unhandled SDL event: "+d.type;}}b=void 0}if(!1!==b){a=1;break a}}a=0}else a=0<U.length}return a},nb:function(a,b,d,f){"touchstart touchend touchmove mousedown mouseup mousemove DOMMouseScroll mousewheel wheel mouseout".split(" ").forEach(function(h){n.canvas.addEventListener(h,
de,!0)});d=n.canvas;0==a&&0==b&&(a=d.width,b=d.height);te||(te=!0,Fd.push(function(h,c){ue||de({type:"resize",w:h,af:c})}));ue=!0;Gd(a,b);ue=!1;td&&($d(td),assert(!td));Nd&&(f|=67108864);return td=Zd(a,b,f,!0,"screen")},La:function(a,b){a:{if(0===a)a=Date.now();else if(1===a||4===a)a=Oc();else{J[wh()>>2]=28;b=-1;break a}J[b>>2]=a/1E3|0;J[b+4>>2]=a%1E3*1E6|0;b=0}return b},e:function(a){return H(a+16)+16},f:function(a,b,d){(new Ve(a)).Wc(b,d);We++;throw a;},Fa:function(a,b){a=new Date(1E3*J[a>>2]);
J[b>>2]=a.getUTCSeconds();J[b+4>>2]=a.getUTCMinutes();J[b+8>>2]=a.getUTCHours();J[b+12>>2]=a.getUTCDate();J[b+16>>2]=a.getUTCMonth();J[b+20>>2]=a.getUTCFullYear()-1900;J[b+24>>2]=a.getUTCDay();J[b+36>>2]=0;J[b+32>>2]=0;J[b+28>>2]=(a.getTime()-Date.UTC(a.getUTCFullYear(),0,1,0,0,0,0))/864E5|0;Xe||(Xe=Oa("GMT"));J[b+40>>2]=Xe;return b},Ea:function(a,b){Ye();a=new Date(1E3*J[a>>2]);J[b>>2]=a.getSeconds();J[b+4>>2]=a.getMinutes();J[b+8>>2]=a.getHours();J[b+12>>2]=a.getDate();J[b+16>>2]=a.getMonth();J[b+
20>>2]=a.getFullYear()-1900;J[b+24>>2]=a.getDay();var d=new Date(a.getFullYear(),0,1);J[b+28>>2]=(a.getTime()-d.getTime())/864E5|0;J[b+36>>2]=-(60*a.getTimezoneOffset());var f=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();d=d.getTimezoneOffset();a=(f!=d&&a.getTimezoneOffset()==Math.min(d,f))|0;J[b+32>>2]=a;a=J[bf()+(a?4:0)>>2];J[b+40>>2]=a;return b},ya:function(a,b,d){try{var f=cf(a),h=hf(b,d);f.qc.connect(f,h.Wb,h.port);return 0}catch(c){return"undefined"!==typeof Hc&&c instanceof P||r(c),
-c.Rb}},q:function(a,b,d){kf=d;try{var f=mf(a);switch(b){case 0:var h=lf();return 0>h?-28:oc(f.path,f.flags,0,h).fd;case 1:case 2:return 0;case 3:return f.flags;case 4:return h=lf(),f.flags|=h,0;case 12:return h=lf(),Ta[h+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return J[wh()>>2]=28,-1;default:return-28}}catch(c){return"undefined"!==typeof Hc&&c instanceof P||r(c),-c.Rb}},fa:function(a,b,d){kf=d;try{var f=mf(a);switch(b){case 21509:case 21505:return f.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return f.tty?
0:-59;case 21519:if(!f.tty)return-59;var h=lf();return J[h>>2]=0;case 21520:return f.tty?-28:-59;case 21531:a=h=lf();if(!f.Pb.nd)throw new P(59);return f.Pb.nd(f,b,a);case 21523:return f.tty?0:-59;case 21524:return f.tty?0:-59;default:r("bad ioctl syscall "+b)}}catch(c){return"undefined"!==typeof Hc&&c instanceof P||r(c),-c.Rb}},Ka:function(a,b){try{a=F(a);a:{try{var d=mc(a,!0)}catch(h){if(h&&h.node&&tb(a)!==tb(Tb(h.node))){var f=-54;break a}throw h;}J[b>>2]=d.dev;J[b+4>>2]=0;J[b+8>>2]=d.ino;J[b+
12>>2]=d.mode;J[b+16>>2]=d.nlink;J[b+20>>2]=d.uid;J[b+24>>2]=d.gid;J[b+28>>2]=d.rdev;J[b+32>>2]=0;ob=[d.size>>>0,(N=d.size,1<=+Math.abs(N)?0<N?(Math.min(+Math.floor(N/4294967296),4294967295)|0)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)];J[b+40>>2]=ob[0];J[b+44>>2]=ob[1];J[b+48>>2]=4096;J[b+52>>2]=d.blocks;J[b+56>>2]=d.atime.getTime()/1E3|0;J[b+60>>2]=0;J[b+64>>2]=d.mtime.getTime()/1E3|0;J[b+68>>2]=0;J[b+72>>2]=d.ctime.getTime()/1E3|0;J[b+76>>2]=0;ob=[d.ino>>>0,(N=d.ino,1<=+Math.abs(N)?0<
N?(Math.min(+Math.floor(N/4294967296),4294967295)|0)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)];J[b+80>>2]=ob[0];J[b+84>>2]=ob[1];f=0}return f}catch(h){return"undefined"!==typeof Hc&&h instanceof P||r(h),-h.Rb}},ea:function(a,b,d){kf=d;try{var f=F(a),h=d?lf():0;return oc(f,b,h).fd}catch(c){return"undefined"!==typeof Hc&&c instanceof P||r(c),-c.Rb}},Ga:function(a,b){try{for(var d=0,f=0;f<b;f++){var h=a+8*f,c=Ta[h+4>>1],e=32,g=Mb[J[h>>2]];g&&(e=5,g.Pb.sd&&(e=g.Pb.sd(g)));(e&=c|24)&&d++;Ta[h+
6>>1]=e}return d}catch(k){return"undefined"!==typeof Hc&&k instanceof P||r(k),-k.Rb}},wa:function(a,b,d,f,h,c){try{var e=cf(a),g=e.qc.Ae(e,d);if(!g)return 0;h&&qf(h,e.family,tf(g.Wb),g.port,c);G.set(g.buffer,b);return g.buffer.byteLength}catch(k){return"undefined"!==typeof Hc&&k instanceof P||r(k),-k.Rb}},Ma:function(a,b){try{a=F(a);b=F(b);var d=ub(a),f=ub(b),h=vb(a),c=vb(b);var e=Rb(a,{parent:!0});var g=e.node;e=Rb(b,{parent:!0});var k=e.node;if(!g||!k)throw new P(44);if(g.fc!==k.fc)throw new P(75);
var m=Jb(g,h),q=xb(a,f);if("."!==q.charAt(0))throw new P(28);q=xb(b,d);if("."!==q.charAt(0))throw new P(55);try{var u=Jb(k,c)}catch(l){}if(m!==u){var w=Hb(m.mode),t=bc(g,h,w);if(t)throw new P(t);if(t=u?bc(k,c,w):ac(k,c))throw new P(t);if(!g.Nb.rename)throw new P(63);if(m.tc||u&&u.tc)throw new P(10);if(k!==g&&(t=Xb(g,"w")))throw new P(t);try{Qb.willMovePath&&Qb.willMovePath(a,b)}catch(l){x("FS.trackingDelegate['willMovePath']('"+a+"', '"+b+"') threw an exception: "+l.message)}Wb(m);try{g.Nb.rename(m,
k,c)}catch(l){throw l;}finally{Vb(m)}try{if(Qb.onMovePath)Qb.onMovePath(a,b)}catch(l){x("FS.trackingDelegate['onMovePath']('"+a+"', '"+b+"') threw an exception: "+l.message)}}return 0}catch(l){return"undefined"!==typeof Hc&&l instanceof P||r(l),-l.Rb}},Ha:function(a){try{a=F(a);var b=Rb(a,{parent:!0}).node,d=vb(a),f=Jb(b,d),h=bc(b,d,!0);if(h)throw new P(h);if(!b.Nb.rmdir)throw new P(63);if(f.tc)throw new P(10);try{Qb.willDeletePath&&Qb.willDeletePath(a)}catch(c){x("FS.trackingDelegate['willDeletePath']('"+
a+"') threw an exception: "+c.message)}b.Nb.rmdir(b,d);Wb(f);try{if(Qb.onDeletePath)Qb.onDeletePath(a)}catch(c){x("FS.trackingDelegate['onDeletePath']('"+a+"') threw an exception: "+c.message)}return 0}catch(c){return"undefined"!==typeof Hc&&c instanceof P||r(c),-c.Rb}},xa:function(a,b,d,f,h,c){try{var e=cf(a),g=hf(h,c,!0);return g?e.qc.Ce(e,y,b,d,g.Wb,g.port):tc(e.stream,y,b,d)}catch(k){return"undefined"!==typeof Hc&&k instanceof P||r(k),-k.Rb}},va:function(){return-50},da:function(a,b,d){try{return W.createSocket(a,
b,d).stream.fd}catch(f){return"undefined"!==typeof Hc&&f instanceof P||r(f),-f.Rb}},O:function(a){try{return a=F(a),lc(a),0}catch(b){return"undefined"!==typeof Hc&&b instanceof P||r(b),-b.Rb}},Na:function(a){delete Yf[a-1]},Q:function(){r()},Ua:uf,Sa:function(a,b){return a-b},B:function(a,b,d){return vf(a,b,d)},j:vf,ta:function(a,b){a||(a="#canvas");a=Mf(a);if(!a)return-4;b={td:J[b>>2],gd:J[b+4>>2],Ve:J[b+8>>2],zc:J[b+12>>2],Ad:J[b+16>>2],target:a,De:!0};var d=a;Qf(d);var f=b.De?innerWidth:screen.width,
h=b.De?innerHeight:screen.height,c=0>Lf.indexOf(d)?d.getBoundingClientRect():{left:0,top:0},e=c.width;c=c.height;var g=Of(d),k=g[0];g=g[1];3==b.td?(Kf(d,(h-c)/2,(f-e)/2),f=e,h=c):2==b.td&&(f*g<k*h?(e=g*f/k,Kf(d,(h-e)/2,0),h=e):(e=k*h/g,Kf(d,0,(f-e)/2),f=e));d.style.backgroundColor||(d.style.backgroundColor="black");document.body.style.backgroundColor||(document.body.style.backgroundColor="black");d.style.width=f+"px";d.style.height=h+"px";1==b.Ve&&(d.style.oe="pixelated");e=2==b.gd?devicePixelRatio:
1;0!=b.gd&&(f=f*e|0,h=h*e|0,Pf(d,f,h),d.yc&&d.yc.nc.viewport(0,0,f,h));document.documentElement.style.overflow="hidden";document.body.scroll="no";document.body.style.margin="0px";d=a.parentNode;for(h=[];a!=document.body;){f=d.children;for(e=0;e<f.length;++e)f[e]!=a&&(h.push({node:f[e],rg:f[e].style.display}),f[e].style.display="none");a=d;d=d.parentNode}Rf=b;addEventListener("resize",Sf);b.zc&&Wa.get(b.zc)(37,0,b.Ad);return 0},gb:function(){for(var a=Df,b=0;b<Bf.length;++b)Bf[b].Qd==a&&(Bf.splice(b,
1),--b);if(document.exitPointerLock)document.exitPointerLock();else if(document.ic)document.ic();else return-1;return 0},ba:function(a,b,d){var f=n.canvas;J[a>>2]=f.width;J[b>>2]=f.height;J[d>>2]=Zc?1:0},pa:Tf,$:Oc,Pa:Uf,ia:function(a,b){xh(a,b||1);throw"longjmp";},za:function(a,b,d){G.copyWithin(a,b,b+d)},fb:function(a,b){a||(a="#canvas");a=Mf(a);return a?a.requestPointerLock||a.Kd?xf&&Ff.Yd?Df(a):b?(Cf([a]),1):-2:-1:-4},Aa:function(a){var b=G.length;if(2147483648<a)return!1;for(var d=1;4>=d;d*=
2){var f=b*(1+.2/d);f=Math.min(f,a+100663296);f=Math.max(a,f);0<f%65536&&(f+=65536-f%65536);a:{try{Ca.grow(Math.min(2147483648,f)-Qa.byteLength+65535>>>16);Va();var h=1;break a}catch(c){}h=void 0}if(h)return!0}return!1},hb:function(a){eval(F(a))},V:Vf,ob:function(a,b){Gd(a,b)},pb:function(a,b,d){if(!navigator.getGamepads&&!navigator.webkitGetGamepads)return-1;Wf(a,b,d);return 0},cb:function(a,b,d){a=Wa.get(a);Rc(a,b,d)},aa:function(a,b,d,f){Xf(a,b,d,f);return 0},Oa:function(a,b,d,f,h){function c(D){ag(D,
e,m,q,k)}function e(D,K){bg(D,K.response,function(E){l?Wa.get(l)(E):b&&b(E)},function(E){l?Wa.get(l)(E):b&&b(E)})}function g(D){ag(D,u,m,q,k)}function k(D){z?Wa.get(z)(D):h&&h(D)}function m(D){p?Wa.get(p)(D):d&&d(D)}function q(D){v?Wa.get(v)(D):f&&f(D)}function u(D){l?Wa.get(l)(D):b&&b(D)}noExitRuntime=!0;var w=a+112,t=F(w),l=L[w+36>>2],p=L[w+40>>2],v=L[w+44>>2],z=L[w+48>>2],A=L[w+52>>2],C=!!(A&4),B=!!(A&32);A=!!(A&16);if("EM_IDB_STORE"===t)t=L[w+84>>2],bg(a,G.slice(t,t+L[w+88>>2]),u,m);else if("EM_IDB_DELETE"===
t)dg(a,u,m);else if(A){if(B)return 0;ag(a,C?e:u,m,q,k)}else cg(a,u,B?m:C?c:g);return a},Ca:function(a,b){try{var d=0;fg().forEach(function(f,h){var c=b+d;h=J[a+4*h>>2]=c;for(c=0;c<f.length;++c)y[h++>>0]=f.charCodeAt(c);y[h>>0]=0;d+=f.length+1});return 0}catch(f){return"undefined"!==typeof Hc&&f instanceof P||r(f),f.Rb}},Da:function(a,b){try{var d=fg();J[a>>2]=d.length;var f=0;d.forEach(function(h){f+=h.length+1});J[b>>2]=f;return 0}catch(h){return"undefined"!==typeof Hc&&h instanceof P||r(h),h.Rb}},
J:function(a){yh(a)},A:function(a){try{var b=mf(a);qc(b);return 0}catch(d){return"undefined"!==typeof Hc&&d instanceof P||r(d),d.Rb}},Ia:function(a,b,d,f){try{a:{for(var h=mf(a),c=a=0;c<d;c++){var e=J[b+(8*c+4)>>2],g=sc(h,y,J[b+8*c>>2],e,void 0);if(0>g){var k=-1;break a}a+=g;if(g<e)break}k=a}J[f>>2]=k;return 0}catch(m){return"undefined"!==typeof Hc&&m instanceof P||r(m),m.Rb}},bb:function(a,b,d,f,h){try{var c=mf(a);a=4294967296*d+(b>>>0);if(-9007199254740992>=a||9007199254740992<=a)return-61;rc(c,
a,f);ob=[c.position>>>0,(N=c.position,1<=+Math.abs(N)?0<N?(Math.min(+Math.floor(N/4294967296),4294967295)|0)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)];J[h>>2]=ob[0];J[h+4>>2]=ob[1];c.Id&&0===a&&0===f&&(c.Id=null);return 0}catch(e){return"undefined"!==typeof Hc&&e instanceof P||r(e),e.Rb}},Ja:function(a,b,d,f){try{a:{for(var h=mf(a),c=a=0;c<d;c++){var e=tc(h,y,J[b+8*c>>2],J[b+(8*c+4)>>2],void 0);if(0>e){var g=-1;break a}a+=e}g=a}J[f>>2]=g;return 0}catch(k){return"undefined"!==typeof Hc&&
k instanceof P||r(k),k.Rb}},ha:function(){return Aa|0},ga:function(a,b,d,f){function h(u,w,t,l,p,v){var z=10===u?28:16;p=10===u?ef(p):df(p);z=H(z);p=qf(z,u,p,v);assert(!p);p=H(32);J[p+4>>2]=u;J[p+8>>2]=w;J[p+12>>2]=t;J[p+24>>2]=l;J[p+20>>2]=z;J[p+16>>2]=10===u?28:16;J[p+28>>2]=0;return p}var c=0,e=0,g=0,k=0,m=0,q=0;d&&(g=J[d>>2],k=J[d+4>>2],m=J[d+8>>2],q=J[d+12>>2]);m&&!q&&(q=2===m?17:6);!m&&q&&(m=17===q?2:1);0===q&&(q=6);0===m&&(m=1);if(!a&&!b)return-2;if(g&-1088||0!==d&&J[d>>2]&2&&!a)return-1;if(g&
32)return-2;if(0!==m&&1!==m&&2!==m)return-7;if(0!==k&&2!==k&&10!==k)return-6;if(b&&(b=F(b),e=parseInt(b,10),isNaN(e)))return g&1024?-2:-8;if(!a)return 0===k&&(k=2),0===(g&1)&&(2===k?c=zh(2130706433):c=[0,0,0,1]),a=h(k,m,q,null,c,e),J[f>>2]=a,0;a=F(a);c=nf(a);if(null!==c)if(0===k||2===k)k=2;else if(10===k&&g&8)c=[0,0,zh(65535),c],k=10;else return-2;else if(c=of(a),null!==c)if(0===k||10===k)k=10;else return-2;if(null!=c)return a=h(k,m,q,a,c,e),J[f>>2]=a,0;if(g&4)return-2;a=tf(a);c=nf(a);0===k?k=2:10===
k&&(c=[0,0,zh(65535),c]);a=h(k,m,q,null,c,e);J[f>>2]=a;return 0},a:hg,F:function(a,b){T.bindFramebuffer(a,Ke[b])},i:function(a,b){T.bindTexture(a,Le[b])},k:function(a,b){T.blendFunc(a,b)},t:function(a,b,d,f){switch(f){case 35041:case 35042:f=35040;break;case 35045:case 35046:f=35044;break;case 35049:case 35050:f=35048}T.bufferData(a,d?G.subarray(d,d+b):b,f)},Za:function(a,b,d,f){T.bufferSubData(a,b,G.subarray(f,f+d))},W:function(a){T.clear(a)},Y:function(a,b,d,f){T.clearColor(a,b,d,f)},p:function(a,
b,d,f){a=Math.max(Math.min(a,1),0);b=Math.max(Math.min(b,1),0);d=Math.max(Math.min(d,1),0);f=Math.max(Math.min(f,1),0);if(0<=Lg){var h=Kg<<2;Ig[h]=255*a;Ig[h+1]=255*b;Ig[h+2]=255*d;Ig[h+3]=255*f;Kg++;a=wg;b=T.UNSIGNED_BYTE;Ng[a]?Ng[a]++:(Ng[a]=1,Xg[a]=!0,bh(a,4,b,0,Og),Og+=4*Ne[b-5120],Te(a))}else $g[0]=a,$g[1]=b,$g[2]=d,$g[3]=f,T.vertexAttrib4fv(wg,$g)},la:function(a,b,d,f){T.colorMask(!!a,!!b,!!d,!!f)},D:function(a,b,d,f){bh(wg,a,b,d,f);T.Yb&&T.vertexAttribPointer(wg,a,b,!0,d,f)},l:function(a,b){for(var d=
0;d<a;d++){var f=J[b+4*d>>2],h=Je[f];h&&(T.deleteBuffer(h),h.name=0,Je[f]=null,f==T.Yb&&(T.Yb=0),f==T.Oc&&(T.Oc=0))}},ka:function(a,b){for(var d=0;d<a;++d){var f=J[b+4*d>>2],h=Ke[f];h&&(T.deleteFramebuffer(h),h.name=0,Ke[f]=null)}},Wa:function(a,b){for(var d=0;d<a;d++){var f=J[b+4*d>>2],h=Le[f];h&&(T.deleteTexture(h),h.name=0,Le[f]=null)}},h:jg,b:function(a){a=Ag(a);null!==a&&Xg[a]&&(Xg[a]=!1,Wg--,tg=null,Se[a]&&(Se[a]=!1,T.disableVertexAttribArray(a)),Zg=!0)},c:function(a,b,d){0==Wg&&6>=a?T.drawArrays(a,
b,d):(hh(d),Lg=a,T.Yb||(Hg=M.subarray(jh>>2,jh+(b+d)*fh>>2),eh=b,gh=b+d),kh(null,b),Lg=-1)},H:function(a,b,d,f,h,c){0==Wg&&6>=a&&T.Oc?T.drawElements(a,b,d,f):(hh(b),Lg=a,T.Yb||(eh=c?h:y.length,gh=c?c+1:0,Hg=M.subarray(jh>>2,c?jh+(c+1)*fh>>2:void 0)),kh(b,0,f),Lg=-1)},m:kg,g:function(a){a=Ag(a);null===a||Xg[a]||(Xg[a]=!0,Wg++,tg=null,Te(a),Zg=!0)},_a:function(a,b,d,f,h){T.framebufferTexture2D(a,b,d,Le[f],h)},ma:function(a,b,d,f,h,c){Sg=!0;Z[X]=Z[X]+1|0;lh.kc.multiply(zg[X],lh.kc.he(a,b,d,f,h,c))},
v:function(a,b){lg(a,b,"createBuffer",Je)},$a:function(a,b){lg(a,b,"createFramebuffer",Ke)},T:function(a,b){lg(a,b,"createTexture",Le)},u:ng,na:og,C:function(a){T.lineWidth(a)},G:function(){Sg=!0;Z[X]=Z[X]+1|0;lh.kc.md(zg[X])},ab:function(a){Sg=!0;Z[X]=Z[X]+1|0;lh.kc.set(M.subarray(a>>2,a+64>>2),zg[X])},x:function(a){if(5888==a)X=0;else if(5889==a)X=1;else if(5890==a)Tg=!0,X=2+Fg.Xe();else throw"Wrong mode "+a+" passed to glMatrixMode";},Xa:function(a){Sg=!0;Z[X]=Z[X]+1|0;lh.kc.multiply(zg[X],M.subarray(a>>
2,a+64>>2))},oa:function(a,b){3317==a&&(Oe=b);T.pixelStorei(a,b)},y:function(){0==Rg[X].length?Pe(1284):(Sg=!0,Z[X]=Z[X]+1|0,zg[X]=Rg[X].pop())},z:function(){Sg=!0;Z[X]=Z[X]+1|0;Rg[X].push(Array.prototype.slice.call(zg[X]))},w:function(a,b,d,f){Sg=!0;Z[X]=Z[X]+1|0;lh.kc.rotate(zg[X],a*Math.PI/180,[b,d,f])},K:function(a,b,d){Sg=!0;Z[X]=Z[X]+1|0;lh.kc.scale(zg[X],[a,b,d])},E:function(a,b,d,f){T.scissor(a,b,d,f)},o:function(a,b,d,f){bh(xg+yg,a,b,d,f);T.Yb&&T.vertexAttribPointer(xg+yg,a,b,!1,d,f)},r:mh,
S:function(a,b,d,f,h,c,e,g,k){T.texImage2D(a,b,d,f,h,c,e,g,k?nh(g,e,f,h,k):null)},s:function(a,b,d){T.texParameteri(a,b,d)},n:function(a,b,d){Sg=!0;Z[X]=Z[X]+1|0;lh.kc.translate(zg[X],[a,b,d])},d:function(a,b,d,f){bh(vg,a,b,d,f);T.Yb&&T.vertexAttribPointer(vg,a,b,!1,d,f)},U:function(a,b,d,f){T.viewport(a,b,d,f)},Va:Ah,Qa:function(a){Ye();var b=new Date(J[a+20>>2]+1900,J[a+16>>2],J[a+12>>2],J[a+8>>2],J[a+4>>2],J[a>>2],0),d=J[a+32>>2],f=b.getTimezoneOffset(),h=new Date(b.getFullYear(),0,1),c=(new Date(b.getFullYear(),
6,1)).getTimezoneOffset(),e=h.getTimezoneOffset(),g=Math.min(e,c);0>d?J[a+32>>2]=Number(c!=e&&g==f):0<d!=(g==f)&&(c=Math.max(e,c),b.setTime(b.getTime()+6E4*((0<d?g:c)-f)));J[a+24>>2]=b.getDay();J[a+28>>2]=(b.getTime()-h.getTime())/864E5|0;J[a>>2]=b.getSeconds();J[a+4>>2]=b.getMinutes();J[a+8>>2]=b.getHours();J[a+12>>2]=b.getDate();J[a+16>>2]=b.getMonth();return b.getTime()/1E3|0},P:function(a){Aa=a|0},Ta:th,Ba:function(a,b,d,f){return th(a,b,d,f)},Ra:function(a){if(ia){if(!a)return 1;a=F(a);if(!a.length)return 0;
a=require("child_process").Vg(a,[],{Tg:!0,stdio:"inherit"});var b=function(d,f){return d<<8|f};return null===a.status?b(0,function(d){switch(d){case "SIGHUP":return 1;case "SIGQUIT":return 3;case "SIGFPE":return 8;case "SIGKILL":return 9;case "SIGALRM":return 14;case "SIGTERM":return 15}return 2}(a.signal)):a.status<<8|0}if(!a)return 0;J[wh()>>2]=6;return-1},I:function(a){var b=Date.now()/1E3|0;a&&(J[a>>2]=b);return b}};
(function(){function a(h){n.asm=h.exports;Ca=n.asm.sb;Va();Wa=n.asm.vb;hb("wasm-instantiate")}function b(h){a(h.instance)}function d(h){return nb().then(function(c){return WebAssembly.instantiate(c,f)}).then(h,function(c){x("failed to asynchronously prepare wasm: "+c);r(c)})}var f={a:Bh};gb("wasm-instantiate");if(n.instantiateWasm)try{return n.instantiateWasm(f,a)}catch(h){return x("Module.instantiateWasm callback failed with error: "+h),!1}(function(){return Ba||"function"!==typeof WebAssembly.instantiateStreaming||
kb()||ib("file://")||"function"!==typeof fetch?d(b):fetch(jb,{credentials:"same-origin"}).then(function(h){return WebAssembly.instantiateStreaming(h,f).then(b,function(c){x("wasm streaming compile failed: "+c);x("falling back to ArrayBuffer instantiation");return d(b)})})})();return{}})();
var bb=n.___wasm_call_ctors=function(){return(bb=n.___wasm_call_ctors=n.asm.tb).apply(null,arguments)},ae=n._free=function(){return(ae=n._free=n.asm.ub).apply(null,arguments)},vh=n._memcpy=function(){return(vh=n._memcpy=n.asm.wb).apply(null,arguments)},H=n._malloc=function(){return(H=n._malloc=n.asm.xb).apply(null,arguments)},uh=n._memset=function(){return(uh=n._memset=n.asm.yb).apply(null,arguments)};n.__native_endEditBox=function(){return(n.__native_endEditBox=n.asm.zb).apply(null,arguments)};
n.__native_sendCommand=function(){return(n.__native_sendCommand=n.asm.Ab).apply(null,arguments)};n._main=function(){return(n._main=n.asm.Bb).apply(null,arguments)};
var wh=n.___errno_location=function(){return(wh=n.___errno_location=n.asm.Cb).apply(null,arguments)},zh=n._htonl=function(){return(zh=n._htonl=n.asm.Db).apply(null,arguments)},pf=n._htons=function(){return(pf=n._htons=n.asm.Eb).apply(null,arguments)},ff=n._ntohs=function(){return(ff=n._ntohs=n.asm.Fb).apply(null,arguments)},bf=n.__get_tzname=function(){return(bf=n.__get_tzname=n.asm.Gb).apply(null,arguments)},af=n.__get_daylight=function(){return(af=n.__get_daylight=n.asm.Hb).apply(null,arguments)},
$e=n.__get_timezone=function(){return($e=n.__get_timezone=n.asm.Ib).apply(null,arguments)},Ia=n.stackSave=function(){return(Ia=n.stackSave=n.asm.Jb).apply(null,arguments)},Ja=n.stackRestore=function(){return(Ja=n.stackRestore=n.asm.Kb).apply(null,arguments)},Ga=n.stackAlloc=function(){return(Ga=n.stackAlloc=n.asm.Lb).apply(null,arguments)},xh=n._setThrew=function(){return(xh=n._setThrew=n.asm.Mb).apply(null,arguments)};
function Ah(a,b,d){var f=Ia();try{Wa.get(a)(b,d)}catch(h){Ja(f);if(h!==h+0&&"longjmp"!==h)throw h;xh(1,0)}}n.ccall=Fa;n.UTF8ToString=F;n.addRunDependency=gb;n.removeRunDependency=hb;n.FS_createPath=yc;n.FS_createDataFile=Ac;n.FS_createPreloadedFile=Ec;n.FS_createLazyFile=Dc;n.FS_createDevice=Bc;n.FS_unlink=lc;n.callMain=Ch;var Dh;function wa(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}fb=function Eh(){Dh||Fh();Dh||(fb=Eh)};
function Ch(a){var b=n._main;a=a||[];var d=a.length+1,f=Ga(4*(d+1));J[f>>2]=Pa(da);for(var h=1;h<d;h++)J[(f>>2)+h]=Pa(a[h-1]);J[(f>>2)+d]=0;try{var c=b(d,f);yh(c,!0)}catch(e){e instanceof wa||("unwind"==e?noExitRuntime=!0:((a=e)&&"object"===typeof e&&e.stack&&(a=[e,e.stack]),x("exception thrown: "+a),ea(1,e)))}finally{}}
function Fh(a){function b(){if(!Dh&&(Dh=!0,n.calledRun=!0,!Da)){n.noFSInit||wc||(wc=!0,vc(),n.stdin=n.stdin,n.stdout=n.stdout,n.stderr=n.stderr,n.stdin?Bc("/dev","stdin",n.stdin):kc("/dev/tty","/dev/stdin"),n.stdout?Bc("/dev","stdout",null,n.stdout):kc("/dev/tty","/dev/stdout"),n.stderr?Bc("/dev","stderr",null,n.stderr):kc("/dev/tty1","/dev/stderr"),oc("/dev/stdin",0),oc("/dev/stdout",1),oc("/dev/stderr",1));W.root=fc(W,null);qb(Ya);Pb=!1;qb(Za);if(n.onRuntimeInitialized)n.onRuntimeInitialized();
Gh&&Ch(a);if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;){var d=n.postRun.shift();ab.unshift(d)}qb(ab)}}a=a||ca;if(!(0<db)){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)cb();qb(Xa);0<db||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1);b()},1)):b())}}n.run=Fh;
function yh(a,b){if(!b||!noExitRuntime||0!==a){if(!noExitRuntime){if(n.onExit)n.onExit(a);Da=!0}ea(a,new wa(a))}}if(n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var Gh=!0;n.noInitialRun&&(Gh=!1);Fh();xd=function(a){var b=0;switch(a.type){case "DOMMouseScroll":b=a.detail;break;case "mousewheel":b=a.wheelDelta;break;case "wheel":b=a.deltaY}return b};n.websocket={url:"ws://"};"https:"==location.protocol&&(n.websocket.url="wss://");
n.GL_MAX_TEXTURE_IMAGE_UNITS=1;n.premultipliedAplha=function(){n.$b.pixelStorei(n.$b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0)};n.textFieldContext={};
n.showTextField=function(a,b,d,f,h,c,e,g,k,m,q,u){var w=document.getElementById("shinobit-textfield"),t=Tf();w.style.display="block";w.style.left=a*t+"px";w.style.top=b*t+"px";w.style.width=d*t+"px";w.style.height=f*t+"px";w.style.background="transparent";w.style.fontSize=h*t+"px";w.style.fontFamily=Hh(q);w.style.color="rgba("+255*c+","+255*e+","+255*g+","+k+")";w.style.border="none";setTimeout(function(){w.focus()},0);w.value=m;w.type=1==u?"password":"text";document.removeEventListener("keyup",n.textFieldContext.keyup);
document.removeEventListener("keydown",n.textFieldContext.keydown);document.removeEventListener("keypress",n.textFieldContext.keypress);n.textFieldContext.visible=!0;void 0==n.textFieldContext.Qf&&(n.textFieldContext.Qf=!0,w.addEventListener("keyup",function(l){"Tab"===l.key?l.preventDefault():"Enter"===l.key?(l.preventDefault(),w.blur(),Fa("_native_endEditBox",null,["string","bool"],[w.value,!0])):Fa("_native_endEditBox",null,["string","bool"],[w.value,!1])}),w.addEventListener("keydown",function(l){"Esc"===
l.key||"Escape"===l.key?(l.preventDefault(),w.value="",w.blur(),Fa("_native_endEditBox",null,["string","bool"],[w.value,!0])):"Tab"===l.key&&(l.preventDefault(),w.blur(),Fa("_native_endEditBox",null,["string","bool"],[w.value,!0]))}),a=function(){Fa("_native_endEditBox",null,["string","bool"],[w.value,!1])},w.addEventListener("change",a),w.addEventListener("input",a),w.addEventListener("keypress",a))};n.sendCommand=function(a,b){Fa("_native_sendCommand",null,["int","int"],[a,b])};
n.syncTextField=function(a,b,d,f,h,c,e,g,k){var m=document.getElementById("shinobit-textfield"),q=Tf();m.style.left=a*q+"px";m.style.top=b*q+"px";m.style.width=d*q+"px";m.style.height=f*q+"px";m.style.fontSize=h*q+"px";m.style.color="rgba("+255*c+","+255*e+","+255*g+","+k+")"};
n.hideTextField=function(){document.getElementById("shinobit-textfield").style.display="none";n.textFieldContext.visible=!1;document.addEventListener("keyup",n.textFieldContext.keyup);document.addEventListener("keydown",n.textFieldContext.keydown);document.addEventListener("keypress",n.textFieldContext.keypress)};
n.keyboardListeningElement=function(){var a=document.getElementById("status"),b=a.addEventListener.bind(a);a.addEventListener=function(d,f,h){n.textFieldContext[d]=f;document.addEventListener(d,f);b(d,f,h)}.bind(a);return a}();function Ih(a){for(var b=1;b<a;)b*=2;return b}var Jh=String.fromCharCode(160),Kh,Lh,Mh;Kh=document.createElement("span");Lh=document.createElement("div");Mh=document.createElement("div");Mh.appendChild(Kh);Mh.appendChild(Lh);Lh.style.display="inline-block";Lh.style.width="1px";
Lh.style.height="0";Mh.style.visibility="hidden";Mh.style.position="absolute";Mh.style.top="0";Mh.style.left="0";Mh.style.width="2048px";Mh.style.height="200px";
function Nh(a,b){document.body.appendChild(Mh);try{Kh.setAttribute("style",b);Kh.innerHTML="";Kh.appendChild(document.createTextNode(a.replace(/\s/g,Jh)));Mh.style.width=Kh.offsetWidth+10+"px";var d={};Lh.style.verticalAlign="baseline";d.$d=Lh.offsetTop-Kh.offsetTop-1;Lh.style.verticalAlign="bottom";d.height=Lh.offsetTop-Kh.offsetTop-1;d.og=d.height-d.$d;d.width=Kh.offsetWidth}finally{Mh.parentNode.removeChild(Mh)}return d}n.textureContext={width:0,height:0,Zg:0,Yg:0,fg:1};n.ge={};
n.registerFont=function(a,b){if(n.ge[b]!=a){n.ge[b]=a;var d=new Blob([uc(b)]);d=window.URL.createObjectURL(d);var f=document.createElement("style");f.appendChild(document.createTextNode('        @font-face {            font-family: "customfont'+(a+"\";            font-style: normal;            font-weight: 300;            font-display: swap;            src: url('")+d+"') format('truetype');        }        "));document.head.appendChild(f);console.log("Registered family:"+b)}};
function Hh(a){var b="arial";switch(a){case 0:case 4:case 5:case 6:b="Arial";break;case 1:b="Helvetica";break;case 2:b="monospace";break;case 3:b="'Times New Roman'";break;case 7:b="'customfont1', 'Helvetica', sans-serif";break;case 8:b="'customfont2', 'Helvetica', sans-serif";break;case 9:b="'customfont3', 'Helvetica', sans-serif"}return b}n.cd=null;n.ae=null;
n.generateTextTexture=function(a,b,d,f,h,c,e,g,k,m,q){a=n.$b;null==n.cd&&(n.cd=document.createElement("canvas"),n.ae=n.cd.getContext("2d"));var u=Hh(b);b=n.cd;h=n.ae;var w=f*q;h.font=""+w+"px "+u;f="font:"+h.font+";white-space: nowrap;padding: 0; margin:0;";var t=Nh(d,f),l=Ih(t.width),p=Ih(t.height);b.width=l;b.height=p;c*=q;0==c&&(c=a.getParameter(a.MAX_TEXTURE_SIZE));q=[];var v=0;l=0;var z;p="";var A=d.length,C=Nh(" ",f),B=C.width;for(C=C.height;l<A;){for(var D=0<k&&v==k-1,K=0,E,S=!0;l<A;){var O=
"";E=d[l];for(z=l;" "!=E&&"\n"!=E&&l<A;)O+=E,l++,l<A&&(E=d[l]);E=Nh(O,f).width;if(S&&K+E>c&&!D)for(E=Nh(O,f).width,l--;E>c&&1<O.length;)O=O.substring(0,O.length-1),E=Nh(O,f).width,l--;if(S&&K+E>c||!S&&K+E+B>c){if(D&&1==g)p=0<p.length?p+" "+O:p+O;else if(D&&2==g)for(p=S?p+O:p+" "+O,p+="...",E=Nh(p,f).width;E>c&&3<p.length;)p=p.slice(0,p.length-4)+p.slice(p.length-3),E=Nh(p,f).width;else l=z;q.push(p);v++;p="";break}else if(0<E||S)S?p+=O:(p=p+" "+O,E+=B);K+=E;if(l<A&&"\n"==d[l]){q.push(p);v++;p="";
l++;break}l++;S=!1}if(D)break}0<p.length&&(q.push(p),v++);for(d=c=0;d<q.length;d++)E=Nh(q[d],f).width,E>c&&(c=E);g=C+(v-1)*C*m;0>g&&(g=0);l=Ih(c);p=Ih(g);b.width=l;b.height=p;h.textBaseline="top";h.fillStyle="#fff";h.font=""+w+"px "+u;h.clearRect(0,0,b.width,b.height);for(d=k=0;d<q.length;d++)v=q[d],u=Nh(v,f).width,0==v.length&&(u=B),w=0,2==e?w=(c-u)/2:1==e&&(w=c-u),h.fillText(v,w+1,k),k+=C*m;n.textureContext.width=c;n.textureContext.height=g;n.textureContext.textureWidth=l;n.textureContext.textureHeight=
p;n.textureContext.baseline=1==q.length?t.$d/g:.5;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)};
